{"version":3,"sources":["logo.svg","static/sounds/beep1sec.mp3","serviceWorker.js","components/custombutton/button.js","components/customform/customfield.js","components/customform/constant.js","components/table/table.js","pages/home/selectors.js","pages/home/component.js","pages/home/constants.js","pages/home/reducer.js","pages/home/actions.js","controller/firebase.js","pages/home/saga.js","components/authprovider/auth.js","controller/session.js","pages/home/index.js","components/materialform/form.js","components/materialform/customform.js","pages/authentication/selectors.js","pages/authentication/constants.js","components/customform/reducer.js","components/customform/saga.js","components/customform/customReduxForm.js","components/customform/customform.js","pages/authentication/typeWriter.js","pages/authentication/components.js","pages/authentication/component.js","pages/authentication/reducer.js","pages/authentication/videoplayer.js","pages/authentication/reply.js","pages/authentication/carousel.js","controller/company.js","pages/authentication/actions.js","controller/conversation.js","controller/configuration.js","controller/dialogflow.js","pages/authentication/saga.js","pages/authentication/index.js","Constants.js","components/sidebar/constants.js","components/sidebar/navitem.js","components/sidebar/sidenav.js","components/navbar/navbar.js","components/sidebar/sidebar.js","index.js"],"names":["module","exports","Boolean","window","location","hostname","match","CustomButton","_Component","_inherits","_super","_createSuper","_classCallCheck","apply","arguments","_createClass","key","value","items","this","props","React","createElement","className","ButtonGroup","color","aria-label","map","button","k","Button","concat","label","variant","style","type","onClick","Component","CustomField","_this","call","onChange","e","targetValue","target","setState","fieldValue","fieldName","name","handleChange","updateAction","onSelectionChange","onBlur","_this$state","state","submitted","onToggleChange","targetName","onFilterValue","selectInput","typeForm","options","placeholder","disable","stars","cancel","formControl","customKey","TextField","disabled","multiline","rows","as","width","RadioGroup","option","m","FormControlLabel","control","Radio","Rating","fontSize","defaultValue","max","Switch","size","checked","Select","id","ref","changeInput","i","MenuItem","htmlFor","component","multiple","createRef","nextProps","_this$props","replace","toLowerCase","connect","dispatch","updateFields","CustomTable","setOrder","column","sense","ordered","orderTable","setOpen","position","open","subObject","subRow","_this2","_this$props2","headers","onSelectRow","buttons","subLabel","childObject","childLabel","filterTable","totalItems","paginator","TableContainer","Paper","Table","striped","bordered","hover","responsive","TableHead","TableRow","head","TableCell","Fragment","FontAwesomeIcon","icon","faArrowUp","faArrowDown","TableBody","item","j","faChevronUp","faChevronDown","Object","keys","tableCell","faThumbsUp","faThumbsDown","paddingBottom","paddingTop","colSpan","Collapse","in","timeout","unmountOnExit","length","Box","Link","to","TablePagination","rowsPerPageOptions","count","rowsPerPage","page","getUsers","users","createStructuredSelector","ComponentHome","userHeaders","empty","Spinner","animation","role","initialState","email","last_name","reducer","undefined","action","newState","_objectSpread","payload","data","getUsersError","firebaseController","firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firebaseDatabase","firestore","firebaseField","FieldValue","firebaseAuthentication","auth","firebaseStorage","storage","_marked2","_regeneratorRuntime","mark","watchUsers","urlUsers","response","fireResponse","responseData","errorResponse","wrap","_context","prev","next","PATH_API","GET_USERS_API","fetch","method","sent","collection","get","forEach","element","_element$data","push","put","abrupt","json","stop","_marked","_context2","takeLatest","AuthContext","createContext","AuthProvider","_ref","children","_useState","useState","_useState2","_slicedToArray","currentUser","setCurrentUser","useEffect","onAuthStateChanged","Provider","storeInSession","sessionStorage","setItem","getFromSession","JSON","parse","getItem","removeItems","removeItem","rootReducer","combineReducers","form","formReducer","formStore","createStore","sagaMiddleware","createSagaMiddleware","store","composeWithDevTools","applyMiddleware","run","HomePage","Container","Redirect","MaterialUiForm","_len","args","Array","_key","renderTextField","input","_ref$meta","meta","touched","invalid","error","custom","_objectWithoutProperties","assign","helperText","renderCheckbox","_ref2","Checkbox","ReactHtmlParser","radioButton","_ref3","rest","FormControl","ri","renderFromHelper","_ref4","FormHelperText","renderSwitchButton","_ref5","_ref5$meta","renderSelectField","_ref6","_ref6$meta","InputLabel","native","inputProps","renderSpacer","renderChidlren","_ref7","fields","_ref7$meta","member","index","fieldtitle","submitable","subitems","dynamicOptions","title","removeLabel","remove","addLabel","sectionTitle","validations","changeInputFile","field","renderComponent","specialName","renderStarsButton","hidden","FieldArray","FormSection","tooltip","Tooltip","HelpIcon","Field","CustomReduxForm","formTitle","formName","handleSubmit","card","formSubTitle","pristine","reset","submitting","customHeader","Card","Header","Image","src","Body","tabIndex","onSubmit","KeyboardEventHandler","handleKeys","onKeyEvent","primary","ForumOutlinedIcon","compose","validate","reduxForm","getResponseMessage","localReducer","responseMessage","getIdConversation","idConversation","getReduxCompanyForm","getFormValues","getSelectedCompanyForm","selectedCompanyForm","esperandoConv","getConversationData","dataConversation","getNewChat","flagNewChat","getCompany","company","getCompanyId","company_id","getHorario","horario","getPlaySound","playSound","getInfoEncuesta","infoEncuesta","getInfoFormClient","infoFormClient","enableFormClient","getTypeWriterWeb","typeWriterWeb","getUploading","uploading","getStartWidget","startWidget","creandoConversacion","isEnabledCaptchaValidation","sendingFlow","iniciaChatAbierto","chatOpened","SEND_RESPONSE","LISTENER_RESPONSE","START_CONVERSATION","FORM_ENCUESTA","ENCUESTA_CONF","SHOW_WIDGET","SVG_ICONO_EQUIS","SENDING_MSG_DF","ICONO_SEND_OSCURO","ICONO_SEND_RED","getEncuestaButton","handlerSafe","validateFields","storeFileds","_React$Component","handleButtonClick","dataObject","Form","InputGroup","hint","CustomForm","formSubtitle","values","loading","CircularProgress","TypewriterMarkdown","displayedText","done","interval","finalRef","richtext","_this$props$speed","speed","setInterval","prevState","charAt","current","scrollIntoView","behavior","clearInterval","ReactMarkdown","remarkPlugins","remarkGfm","linkTarget","typedMessages","Set","AccessibleChatWidget","idConversartion","startConversation","handleNewUserMessage","containerRef","useRef","labelId","document","querySelector","labelEl","textContent","insertBefore","firstChild","applyAccessibility","setAttribute","hasAttribute","sendBtn","logoBotForm","avatarForm","sendIcon","removeAttribute","launcher","__accessibleKeyHandlerInstalled","addEventListener","preventDefault","click","observer","MutationObserver","observe","body","childList","subtree","disconnect","Widget","nombre","subtitle","senderPlaceHolder","profileAvatar","avatar","titleAvatar","logoNombre","toggleInputDisabled","toggleWidget","RichText","mostrarTypewriter","nuevoMsge","messageId","String","text","slice","from","makeKeyFromProps","_messageKey","has","add","console","log","replaceAll","CustomSpinner","_Component2","_super2","spinnerClassName","textClassName","LinearProgress","CustomCaptcha","_Component3","_super3","_this$props3","logo","reloadText","renderThis","svgIconX","maxWidth","LoadCanvasTemplate","sx","valueCaptcha","onInput","errorCaptchaInvalido","doSubmit","alt","ComponentAuth","startRecording","record","soundWave","display","rwcSender","sendAudio","stopRecording","lauchChatWidget","cambiarEstadoChatAbiertoTrue","setTimeout","$","buttonChat","addClass","errors","mail","test","onUnload","accept","stringify","motivo","validateCaptcha","loadCaptchaEnginge","captchaValidado","subject","captcha","getCustomLauncher","handleToggle","onFileUpload","handlerFileMessage","containerData","onStop","bind","_assertThisInitialized","recordedBlob","sessionObject","files","isVoiceRecord","url","navigator","sendBeacon","consultaTypeWriter","listenerResponse","chatClosedLauncher","$this","on","hideConversation","classList","showConversation","removeClass","containerMessages","buttonImage","height","padding","borderRadius","oldIcon","img","objectFit","replaceWith","bottomIcon","right","currentTarget","hasClass","formInicio","bottom","attachFormSubmitListener","addAccessibility","updated","querySelectorAll","btn","_btn$innerText","innerText","trim","sendButton","tries","stopPropagation","blur","reduxCompanyForm","warn","_this3","dataset","listenerAttached","imagePath","imageSource","chatHeader","currentImage","image","appendChild","prevProps","_prevProps$conversati","_this4","startWidgetFlag","conversationData","enviarEncuesta","showCaptcha","cambiarEstadoChatAbiertoFalse","botonTitle","iconSend","backgroundColor","canvasCaptcha","inputMessage","textInput","rcWLauncher","addCustomHeader","background","alignItems","justifyContent","border","boxShadow","margin","estado","container","agente","nombres","openNewChat","getElementById","play","chatContainer","chatClosed","contains","visibility","clientFormConf","rcwHideButton","rcwContainer","_this5","_this$props4","sendResponse","updateAttributes","message","encuestaConf","mostrarChat","sortObjectByKeys","o","sort","reduce","r","textoHorario","estadoConv","spinner","cuenta","Beforeunload","onBeforeunload","event","cerrar","formClienteConf","ordenado","pregunta","jsonBase","nombreCorto","opcionesRespuesta","parametrosFormCliente","valido","parametrosEncuesta","newMessage","ReactMic","onData","strokeColor","channelCount","mimeType","IconButton","Mic","SendRounded","InputFiles","AddIcon","beep","idConversartionState","companyId","textResponse","loadConversation","listenerConversationInfo","traerPreguntasEncuesta","mostrarWidget","showWidget","botEnabled","newFormCompanyObject","conversationId","esperandoNuevaConv","idConv","convData","flag","formularioInicial","isEnabledClientForm","CustomVideoPlayer","video","ReactWebMediaPlayer","ReplyComponent","renderSimpleReply","actionConv","optionItem","actionResponse","reply","renderListReply","Accordion","AccordionSummary","expandIcon","ExpandMoreIcon","aria-controls","marginTop","marginBottom","Grid","AccordionDetails","postbackText","description","imagen","rendeReply","tipoMensajeBienvenida","CarouselCircular","products","responsiveOptions","breakpoint","numVisible","numScroll","productTemplate","product","carousel","onError","Carousel","circular","autoplayInterval","itemTemplate","header","showNavigators","prevIcon","nextIcon","consultarEmpresa","resp","where","then","docs","doc","t0","startConversationSuccess","typeWriterSuccess","listenerConversation","listenerConversationError","enviarEncuestaError","startWidgetError","startWidgetSucces","handleFileMessageSuccess","fijarDatosEncuesta","actualizarConnectedUser","bodyEncuesta","update","encuesta","idDocAgente","conv","idDoc","last_survey","Date","consultaProperty","consultaPropertyAll","_marked3","validarHorarioHabil","_marked4","checkTime","prop","snapshot","exists","config","fechaActual","weekday","day","fec","_context3","getDay","getFullYear","getMonth","getDate","t1","stringifyHorarioHabil","t2","t3","t4","t5","t6","t7","rango","hora","min","ini","a","b","fin","c","d","_context4","getHours","getMinutes","split","parseInt","mensajeDialogflow","msge","param_Hijo","clienteBody","idCompany","_marked5","obtenerInfoConfEncuesta","_marked6","_marked7","_marked8","_marked9","_marked0","_marked1","_conv$agente","_getFromSession","clienteData","_action$value","client","fileMessage","valueString","upd","multiplesHijos","select","toString","addUserMessage","fecha","tipo","cliente","mensaje","caption","filename","last_message","arrayUnion","addCustomMessage","consultaWriter","eject","_getFromSession2","clientFormEnabled","reference","channel","auxWriter","inited","_loop","orderBy","eventChannel","emit","onSnapshot","firstMessage","lastElement","realData","take","docChanges","change","delegateYield","renderCustomComponent","Lightbox","doubleClickZoom","AudioPlayer","autoPlay","href","latitude","longitude","addLinkSnippet","link","_getFromSession3","referenceConv","channelConv","conversation","_context5","preguntasEncuesta","_context6","_getFromSession4","datosEncuesta","limpiarChat","_context7","dropMessages","_context8","textButtonReply","tipoDispositivo","navegador","sitio","valorCaptcha","successResponse","_context9","addResponseMessage","isMobile","isDesktop","isTablet","isChrome","isEdge","isFirefox","isOpera","indexOf","device","status","_payload$value","typeWriter","auxConsultaWriter","propiedadesMensajeBienvenida","mensajeBienvenida","_context0","hijo","texto","_getFromSession5","today","timestampDate","archivos","fileParameters","_context1","getTime","signInAnonymously","armarJSONparametros","_x","_x2","_x3","_x4","_armarJSONparametros","_asyncToGenerator","_callee2","parametros","_iterator","_step","_loop2","_context13","_createForOfIteratorHelper","archivo","nombreArchivo","storageRef","typeArchivo","tipoArchivo","archivo_","_context12","blob","_callee","result","_context11","getDownloadURL","_x5","s","n","f","finish","_context10","takeEvery","AuthPage","paths","path","menuItems","css","faHome","faUsers","main","ITEM_TITLE","faAngleDoubleRight","active","NavItem","handleClick","onItemClick","whiteClass","dropdown","Nav","Item","onLogout","picture","roundedCircle","SideNav","activePath","onLogoutClick","clear","signOut","logoutAction","activeKey","onSelect","faSignOutAlt","CustomNavBar","nomatch","domElement","ReactDOM","render","StrictMode","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.bd69a827.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.ee7cd8ed.svg\";","module.exports = __webpack_public_path__ + \"static/media/beep1sec.b2ab2ed7.mp3\";","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Button, ButtonGroup } from '@material-ui/core';\r\n\r\n\r\nexport default class CustomButton extends Component {\r\n    render() {\r\n        const { items } = this.props;\r\n\r\n        return (\r\n            <div className=\"button-wrapper whiteBackground\"> \r\n                <ButtonGroup color=\"primary\" aria-label=\"outlined primary button group\">\r\n                    {\r\n                        items && items.map((button, k) => {\r\n                            return <Button\r\n                                        key={`button-${button.label}-${k}`} \r\n                                        variant={button.variant}\r\n                                        color={button.style}\r\n                                        type=\"submit\"\r\n                                        className={button.className}\r\n                                        onClick={button.onClick}\r\n                                    >\r\n                                        {button.label}\r\n                                    </Button>\r\n                        })\r\n                    }  \r\n                </ButtonGroup>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Input, Select, Switch, MenuItem, TextField, Button } from '@material-ui/core';\r\nimport { VALIDATE_FIELD } from './constant';\r\nimport { connect } from \"react-redux\";\r\n/* import { SelectButton } from 'primereact/selectbutton'; */\r\nimport Radio from \"@material-ui/core/Radio\";\r\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\r\nimport './form.css';\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport FormControl from '@material-ui/core/FormControl';\r\n/* import { Rating } from 'primereact/rating'; */\r\nimport Rating from '@mui/material/Rating';\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass CustomField extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.changeInput = React.createRef();\r\n\r\n        this.state = {\r\n            fieldValue: props.value || '',\r\n            fieldName: props.name || '',\r\n\r\n            submitted: false\r\n        }\r\n\r\n    }\r\n\r\n    componentDidUpdate(nextProps) {\r\n        if (nextProps.fieldValue) {\r\n            this.setState({\r\n                fieldValue: nextProps.fieldValue,\r\n                fieldName: nextProps.fieldName\r\n            });\r\n        }\r\n    };\r\n\r\n    onChange = (e) => {\r\n        let targetValue = e.target.value;\r\n\r\n        this.setState({\r\n            fieldValue: targetValue,\r\n            fieldName: e.target.name\r\n        })\r\n    };\r\n\r\n    handleChange = (e) => {\r\n        ///console.log(\"-- \",this.state.fieldValue, 'e', e.target.value, e.target.name);\r\n        let targetValue = e.target.value;\r\n\r\n        this.setState({\r\n            fieldValue: targetValue,\r\n            fieldName: e.target.name\r\n        })\r\n        this.props.updateAction({\r\n            fieldValue: targetValue,\r\n            fieldName: e.target.name\r\n        })\r\n    };\r\n\r\n    onSelectionChange = (e) => {\r\n        let targetValue = e.target.value;\r\n\r\n        this.setState({\r\n            fieldValue: targetValue,\r\n            fieldName: e.target.name\r\n        })\r\n\r\n        this.props.updateAction({\r\n            fieldValue: targetValue,\r\n            fieldName: e.target.name\r\n        })\r\n    };\r\n\r\n    onBlur = (e) => {\r\n        const { fieldValue, fieldName } = this.state;\r\n        const flagSubmit = this.props.submitted ? true : false;\r\n\r\n        if (!flagSubmit) {\r\n            this.props.updateAction({\r\n                fieldValue,\r\n                fieldName\r\n            })\r\n        }\r\n    };\r\n\r\n    onToggleChange = (e) => {\r\n        let targetValue = e.target.value;\r\n        const targetName = e.target.name;\r\n\r\n        targetValue = typeof targetValue === \"boolean\" ? targetValue : targetValue === \"true\";\r\n\r\n        this.setState({\r\n            fieldValue: !targetValue,\r\n            fieldName: targetName\r\n        })\r\n\r\n        this.props.updateAction({\r\n            fieldValue: !targetValue,\r\n            fieldName: targetName\r\n        })\r\n    }\r\n\r\n    onFilterValue = (e) => {\r\n        const { items } = this.props;\r\n        const targetValue = e.target.value;\r\n        const targetName = e.target.name;\r\n\r\n        this.setState({\r\n            fieldValue: targetValue,\r\n            fieldName: targetName\r\n        })\r\n\r\n        this.props.updateAction({\r\n            fieldValue: targetValue,\r\n            fieldName: targetName,\r\n            items: items\r\n        })\r\n    }\r\n\r\n    selectInput = (type, typeForm, options, value, label, placeholder, name, key, disable, submitted, stars, cancel) => {\r\n        let formControl = false;\r\n        const customKey = `input-${label}-${key}`;\r\n\r\n        if (type === \"toggle\" || typeForm == \"radioButton\" && typeof value !== \"boolean\") {\r\n            value = value === \"true\";\r\n        }\r\n\r\n        if (typeForm == \"ratingStars\") {\r\n            value = value === 1;\r\n\r\n        }\r\n\r\n\r\n        if (submitted) {\r\n            value = '';\r\n        }\r\n\r\n\r\n        switch (typeForm) {\r\n            case \"filter\":\r\n                formControl =\r\n                    <TextField\r\n                        className={\"custom-input\"}\r\n                        key={customKey}\r\n                        name={name}\r\n                        label={placeholder}\r\n                        value={value}\r\n                        type={type}\r\n                        onChange={this.onFilterValue}\r\n                        disabled={disable}\r\n                    />;\r\n                break;\r\n            case \"area\":\r\n                formControl =\r\n                    <TextField\r\n                        key={customKey}\r\n                        className=\"custom-input area-text\"\r\n                        name={name}\r\n                        multiline\r\n                        rows={4}\r\n                        as=\"textarea\"\r\n                        label={label}\r\n                        type={type}\r\n                        value={value}\r\n                        onBlur={this.onBlur}\r\n                        onChange={this.onChange}\r\n                        disabled={disable}\r\n                    />;\r\n                break;\r\n            /*   case \"selections\":\r\n                  formControl =\r\n                      <SelectButton\r\n                          size=\"medium\"\r\n                          checked={value}\r\n                          name={name}\r\n                          value={value}\r\n                          label={placeholder}\r\n                          optionValue=\"code\"\r\n                          options={options}\r\n                          onChange={this.onSelectionChange}\r\n                          disabled={disable}\r\n                      >\r\n                          <i className=\"pi pi-times\"></i>\r\n                      </SelectButton>;\r\n  \r\n                \r\n                  break; */\r\n            case \"radioButton\":\r\n                formControl = <div className=\"center\" style={{ width: \"100%\" }} >\r\n                    <div className=\"radioButtonLabel\">{label}</div>\r\n                    <RadioGroup\r\n                        aria-label={name}\r\n                        name={name}\r\n                        value={this.state.fieldValue}\r\n                        onChange={this.handleChange}\r\n                    >\r\n                        {\r\n                            options.map((option, m) => {\r\n                                return (\r\n                                    <FormControlLabel className='PrivateSwitchBase-root-1' key={m} value={option.value} control={<Radio />} label={option.name} />\r\n                                )\r\n                            })\r\n                        }\r\n                    </RadioGroup>\r\n                </div>\r\n\r\n                break;\r\n\r\n            case \"ratingStars\":\r\n                formControl =\r\n                    <div className=\"center\" style={{ width: \"100%\" }} >\r\n                        <div className=\"ratingStarsLabel\">{label}</div>\r\n                        {/* <Rating className=\"center\" name={name} stars={stars} value={this.state.fieldValue} cancel={cancel} onChange={this.handleChange} /> */}\r\n                        <Rating style={{ fontSize: \"2rem\" }} name={name} defaultValue={2} max={stars} value={this.state.fieldValue} onChange={this.handleChange} />\r\n                    </div>\r\n\r\n                break;\r\n\r\n            case \"toggle\":\r\n                formControl =\r\n                    <Switch\r\n                        size=\"medium\"\r\n                        checked={value}\r\n                        name={name}\r\n                        value={value}\r\n                        label={placeholder}\r\n                        onChange={this.onToggleChange}\r\n                        disabled={disable}\r\n                    />;\r\n                return formControl;\r\n            case \"select\":\r\n                formControl =\r\n                    <Select\r\n                        name={name}\r\n                        key={customKey}\r\n                        as=\"select\"\r\n                        className=\"custom-input custom-select mr-sm-2\"\r\n                        id=\"inlineFormCustomSelect\"\r\n                        value={value}\r\n                        onBlur={this.onBlur}\r\n                        onChange={this.onChange}\r\n                        ref={this.changeInput}\r\n                        disabled={disable}\r\n                    >\r\n                        {options.map((type, i) => {\r\n                            return (\r\n                                <MenuItem\r\n                                    key={`option-${i}`}\r\n                                    value={type.value}\r\n                                    id={`option-${i}`}>\r\n                                    {type.label}\r\n                                </MenuItem>\r\n                            )\r\n                        })}\r\n                    </Select>\r\n                break;\r\n            case \"file\":\r\n                formControl =\r\n                    <div className=\"file-container\">\r\n                        <label htmlFor=\"contained-button-file\">\r\n                            <Button className=\"button-file\" variant=\"contained\" color=\"primary\" component=\"span\">\r\n                                {placeholder}\r\n                            </Button>\r\n                        </label>\r\n                        <input\r\n                            className=\"custom-file\"\r\n                            id=\"contained-button-file\"\r\n                            name={name}\r\n                            value={value}\r\n                            multiple\r\n                            type=\"file\"\r\n                            onBlur={this.onBlur}\r\n                            onChange={this.onChange}\r\n                        />\r\n                    </div>\r\n            case \"multiple\":\r\n\r\n                break;\r\n            default:\r\n                formControl =\r\n                    <TextField\r\n                        className=\"custom-input\"\r\n                        key={customKey}\r\n                        name={name}\r\n                        label={placeholder}\r\n                        value={value}\r\n                        type={type}\r\n                        onBlur={this.onBlur}\r\n                        onChange={this.onChange}\r\n                        disabled={disable}\r\n                    />;\r\n                break;\r\n        }\r\n\r\n        return formControl;\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            placeholder,\r\n            label,\r\n            type,\r\n            typeForm,\r\n            options,\r\n            key,\r\n            name,\r\n            disable,\r\n            className,\r\n            submitted,\r\n            stars,\r\n            cancel\r\n        } = this.props;\r\n\r\n        const customKey = label ? label.replace(/\\s/g, \"\").toLowerCase() : \"\";\r\n        const { fieldValue } = this.state;\r\n\r\n\r\n        return (\r\n            <div key={customKey} className={`form-custom-group ${className}`}>\r\n\r\n\r\n                <label className=\"label-name\">\r\n                    <span className=\"content-name\">{label}</span>\r\n                </label>\r\n                {this.selectInput(type, typeForm, options, fieldValue, label, placeholder, name, key, disable, submitted, stars, cancel)}\r\n\r\n            </div >\r\n        );\r\n    }\r\n}\r\n\r\n\r\nconst mapDispachToProps = (dispatch) => {\r\n    return {\r\n        updateFields: (value) => dispatch({ type: VALIDATE_FIELD, value }),\r\n    };\r\n};\r\n\r\nexport default connect(\r\n    mapDispachToProps\r\n)(CustomField);","export const VALIDATE_FIELD = '@form/validateFileds';","import React, { Component } from 'react';\r\nimport { \r\n    Table, \r\n    TableBody, \r\n    TableCell, \r\n    TableContainer, \r\n    TableHead, \r\n    TableRow, \r\n    Paper, \r\n    Collapse,\r\n    TablePagination,\r\n    Box\r\n} from '@material-ui/core/';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faThumbsUp, faThumbsDown, faChevronUp, faChevronDown, faArrowDown, faArrowUp} from \"@fortawesome/free-solid-svg-icons\";\r\nimport CustomButton  from '../custombutton/button';\r\nimport './table.css';\r\nimport CustomField from '../customform/customfield';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nexport default class CustomTable extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            open: [],\r\n            ordered: []\r\n        }\r\n    }\r\n\r\n    setOrder = (column, items, sense) => {\r\n        const { ordered } = this.state;\r\n        const { orderTable } = this.props;\r\n\r\n        ordered[column] = !ordered[column];\r\n\r\n        this.setState({\r\n            ordered: ordered\r\n        })\r\n\r\n        orderTable ({ column, items, sense });\r\n    }\r\n\r\n    setOpen = (position) => {\r\n        const { open } = this.state;\r\n        const { items, subObject } = this.props;\r\n        const subRow = items[position];\r\n\r\n        if(open[position]) {\r\n            open[position] = false;\r\n        } else {\r\n            open[position] = subRow[subObject];\r\n        }\r\n        this.setState({\r\n            open: open\r\n        })\r\n    }\r\n    \r\n    render() {\r\n        const { \r\n            items, \r\n            headers, \r\n            className, \r\n            onSelectRow, \r\n            buttons, \r\n            subObject, \r\n            subLabel, \r\n            childObject,\r\n            childLabel,\r\n            orderTable,\r\n            filterTable,\r\n            totalItems,\r\n            paginator\r\n        } = this.props;\r\n        const { open, ordered } = this.state;\r\n\r\n        return (\r\n            <div className=\"custom-table_wrapper\">\r\n                <TableContainer className=\"custom-table_container\" component={Paper}>\r\n                { \r\n                    filterTable && \r\n                    <CustomField\r\n                        id=\"search-001\"\r\n                        type=\"text\"\r\n                        typeForm=\"filter\"\r\n                        placeholder=\"Filtrar\"\r\n                        updateAction={filterTable}\r\n                        name={\"filter\"}\r\n                        items={totalItems}\r\n                    />\r\n                }\r\n                <Table className={className} striped=\"true\" bordered=\"true\" hover=\"true\" responsive=\"true\"> \r\n                    <TableHead className=\"custom-table_head\">\r\n                        <TableRow className=\"custom-table_header\">\r\n                            {  \r\n                                headers && headers.map((head, i) => {\r\n                                return  (\r\n                                        <TableCell key={i}>\r\n                                            {\r\n                                                orderTable && \r\n                                                    <React.Fragment>\r\n                                                        { ordered[head.column] ?                                             \r\n                                                            <FontAwesomeIcon \r\n                                                                onClick={() => this.setOrder(head.column, items, -1)} \r\n                                                                className='table-icon' \r\n                                                                icon={faArrowUp} /> :\r\n                                                            <FontAwesomeIcon \r\n                                                                onClick={() => this.setOrder(head.column, items, 1)} \r\n                                                                className='table-icon' \r\n                                                                icon={faArrowDown} />\r\n                                                        }\r\n                                                    </React.Fragment>\r\n                                            }\r\n                                            <span className=\"header-title\">{head.label}</span>\r\n                                        </TableCell>\r\n                                    );\r\n                                })\r\n                            }\r\n                        </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                    {\r\n                        items && items.map((item, j) => {\r\n                            return (\r\n                                <React.Fragment key={`frag-${j}`}>\r\n                                <TableRow className=\"custom-table_rows\" key={j}>\r\n                                    {   subObject && \r\n                                        <TableCell onClick={() => this.setOpen(j)}>\r\n                                            { open[j] ?\r\n                                                <FontAwesomeIcon className='table-icon' icon={faChevronUp} /> :\r\n                                                <FontAwesomeIcon className='table-icon' icon={faChevronDown} />\r\n                                            }\r\n                                        </TableCell>\r\n                                    }\r\n                                    {\r\n                                        item && Object.keys(item).map(e => {\r\n                                            let tableCell = <TableCell onClick={() => onSelectRow ? onSelectRow(item) : false} key={e}>{item[e]}</TableCell>\r\n                                            if (item[e] === true) {\r\n                                                tableCell = \r\n                                                    <TableCell onClick={() => onSelectRow ? onSelectRow(item) : false} key={e}>\r\n                                                        <FontAwesomeIcon className='table-icon' icon={faThumbsUp} />\r\n                                                    </TableCell>;\r\n                                            } else if (item[e] === false) {\r\n                                                tableCell = \r\n                                                    <TableCell onClick={() => onSelectRow ? onSelectRow(item) : false} key={e}>\r\n                                                        <FontAwesomeIcon className='table-icon' icon={faThumbsDown} />\r\n                                                    </TableCell>;\r\n                                            } else if (item[e] && typeof item[e] === 'object') {\r\n                                                tableCell = \"\";\r\n                                            }\r\n                                            return (tableCell);\r\n                                        })\r\n                                    }\r\n                                </TableRow>\r\n                                { subObject &&\r\n                                    <TableRow>\r\n                                        <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={6}>\r\n                                            <Collapse in={open[j]} timeout=\"auto\" unmountOnExit>\r\n                                                {\r\n                                                    open[j] && open[j].length ? \r\n                                                    <Box className=\"custom-table_subtable\">\r\n                                                    <h3 className=\"sub-object_title\">\r\n                                                        <Link to={`/${subObject}`} className='table-link-title '>\r\n                                                            {subLabel}\r\n                                                        </Link>\r\n                                                    </h3>\r\n                                                    <CustomTable \r\n                                                        onSelectRow={false} \r\n                                                        className={`sub-object-${subObject}`} \r\n                                                        items={open[j]}\r\n                                                        buttons={[]} \r\n                                                        subObject={childObject}\r\n                                                        subLabel={childLabel}\r\n                                                        />\r\n                                                    </Box> : ''\r\n                                                }\r\n                                            </Collapse>\r\n                                        </TableCell>\r\n                                    </TableRow>\r\n                                }\r\n                                </React.Fragment>\r\n                            );\r\n                        })\r\n                    }\r\n                    </TableBody>\r\n                </Table>\r\n                </TableContainer>\r\n                { paginator ? \r\n                    <TablePagination\r\n                        rowsPerPageOptions={[5, 10, 25]}\r\n                        component=\"div\"\r\n                        count={3}\r\n                        rowsPerPage={2}\r\n                        page={1}\r\n                    />\r\n                : '' }\r\n\r\n                <CustomButton items={buttons} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import { createStructuredSelector } from 'reselect';\r\n\r\nexport const getUsers = (state) => state.users;\r\n\r\nexport const usersSelector = createStructuredSelector({\r\n    users: getUsers,\r\n});","import React, { Component } from \"react\";\r\nimport \"./style.css\";\r\nimport { connect } from \"react-redux\";\r\nimport CustomTable from \"../../components/table/table\";\r\nimport { getUsers } from \"./selectors\";\r\nimport { Spinner, Alert } from 'react-bootstrap';\r\nimport {\r\n    GET_USERS\r\n} from './constants';\r\n\r\n\r\nclass ComponentHome extends Component {\r\n\r\n    componentWillMount () {\r\n        const { getUsers } = this.props;\r\n        getUsers();\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            userHeaders, \r\n            users,\r\n        } = this.props;\r\n\r\n\r\n    return (\r\n        <div className=\"App home-container\">\r\n            <div className='user-list_wrapper'>\r\n            { users && !users.empty ? \r\n                <CustomTable \r\n                    className=\"users-table\" \r\n                    items={users} \r\n                    headers={userHeaders}\r\n                    onSelectRow={false}\r\n                /> :\r\n                <Spinner className=\"spinner-wrapper\" animation=\"border\" role=\"status\">\r\n                    <span className=\"sr-only\">Loading...</span>\r\n                </Spinner>\r\n            }\r\n            </div>\r\n        </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        userHeaders: state.userHeaders,\r\n        users: getUsers(state),\r\n    };\r\n};\r\n\r\nconst mapDispachToProps = dispatch => {\r\n    return { \r\n        getUsers: () => dispatch({ type: GET_USERS, value: 1 })\r\n    };\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispachToProps\r\n)(ComponentHome);","export const GET_USERS = '@users/getAll';\r\nexport const GET_USERS_SUCCESS = '@users/getUsersSuccess';\r\nexport const GET_USERS_ERROR = '@users/getUsersError';\r\n\r\nexport const USER_HEADERS = [\r\n    {label: \"id\", column: \"id\"}, \r\n    {label: \"email\", column: \"email\"},\r\n    {label: \"first name\", column: \"first_name\"},\r\n    {label: \"last name\", column: \"last_name\"},\r\n    {label: \" \", column: \" \"},\r\n];\r\n\r\nexport const USER_DATA = [\r\n    {id: \"1001\", email: \"email@email.com\", name: \"Alex\", last_name: \"vera\"}, \r\n    {id: \"1002\", email: \"joe@email.com\", name: \"Joe\", last_name: \"Doe\"}, \r\n    {id: \"1003\", email: \"jane@email.com\", name: \"Jane\", last_name: \"Smith\"}, \r\n];\r\n","import {\r\n  GET_USERS_SUCCESS,\r\n  USER_DATA,\r\n  USER_HEADERS,\r\n} from './constants';\r\n  \r\n  export const initialState = {\r\n    users: USER_DATA,\r\n    userHeaders: USER_HEADERS\r\n  };\r\n  \r\n  const reducer = (state = initialState, action) => {\r\n    const newState = { ...state };\r\n    const { payload, type } = action;\r\n\r\n    switch (type) {\r\n      case GET_USERS_SUCCESS:\r\n          const { data  } = payload;\r\n          newState.users = data;\r\n\r\n          return {\r\n            ...newState\r\n          };\r\n      default:\r\n        return {\r\n          ...newState\r\n        };\r\n    }\r\n  };\r\n  \r\n  export default reducer;\r\n  ","import {\r\n    GET_USERS,\r\n    GET_USERS_ERROR,\r\n    GET_USERS_SUCCESS\r\n} from './constants'\r\n\r\nexport function getUsers (payload) {\r\n    return {\r\n        type: GET_USERS,\r\n        payload\r\n    };\r\n}\r\n\r\nexport function getUsersSuccess (payload) {\r\n    return {\r\n        type: GET_USERS_SUCCESS,\r\n        payload\r\n    };\r\n}\r\n\r\nexport function getUsersError (payload) {\r\n    return {\r\n        type: GET_USERS_ERROR,\r\n        payload\r\n    };\r\n}","import firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\nimport 'firebase/auth';\r\nimport 'firebase/storage';\r\n\r\nconst firebaseConfig = {\r\n    apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n    authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n    databaseURL: process.env.REACT_APP_FIREBASE_BASE_URL,\r\n    projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n    storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n    messagingSenderId: process.env.REACT_APP_FIREBASE_SENDER_ID,\r\n    appId: process.env.REACT_APP_FIREBASE_APP_ID,\r\n    measurementId: process.env.REACT_APP_FIREBASE_MEASUREMENT\r\n};\r\n\r\nconst firebaseController = firebase.initializeApp(firebaseConfig);\r\nexport const firebaseDatabase = firebaseController.firestore(); \r\nexport const firebaseField = firebase.firestore.FieldValue\r\nexport const firebaseAuthentication = firebaseController.auth();\r\nexport const firebaseStorage = firebase.storage();","import { takeLatest, put, call } from \"redux-saga/effects\";\r\nimport { GET_USERS_API, PATH_API } from '../../Constants';\r\n\r\nimport { \r\n  GET_USERS,\r\n} from './constants';\r\n\r\nimport { \r\n  getUsersSuccess,\r\n  getUsersError,\r\n} from './actions';\r\n\r\nimport { firebaseDatabase } from \"../../controller/firebase\";\r\n\r\nfunction* getUsers() {\r\n  const urlUsers = `${ PATH_API }${GET_USERS_API}`;\r\n  const response = yield call(fetch, urlUsers, {\r\n      method: 'GET',\r\n  });\r\n\r\n  const fireResponse = yield firebaseDatabase.collection('users').get();\r\n  const responseData = {\r\n    data: []\r\n  };\r\n\r\n  if(fireResponse) {\r\n    fireResponse.forEach(element => {\r\n      const { id, email, name, last_name } = element.data();\r\n      responseData.data.push({ id, email, name, last_name });\r\n    });\r\n  }\r\n\r\n  const {data} = responseData;\r\n\r\n  if (data.length > 0) {\r\n    yield put(getUsersSuccess(responseData));\r\n    return;\r\n  }\r\n\r\n  /*\r\n    if (response.status >= 200 && response.status < 300) {\r\n      const successResponse = yield call([response, response.json]);\r\n      console.log('successResponse', successResponse);\r\n      yield put(getUsersSuccess(successResponse));\r\n      return;\r\n    }\r\n  */\r\n\r\n  const errorResponse = yield call([response, response.json]);\r\n  yield put(getUsersError(errorResponse));\r\n}\r\n\r\nexport function* watchUsers() {\r\n  yield takeLatest(GET_USERS, getUsers);\r\n}\r\n","import React, { useEffect, useState, Component } from 'react';\r\nimport { firebaseAuthentication } from '../../controller/firebase';\r\n\r\nexport const AuthContext = React.createContext();\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n    const [currentUser, setCurrentUser] = useState(null);\r\n\r\n    useEffect(() => {\r\n        firebaseAuthentication.onAuthStateChanged(setCurrentUser)\r\n    }, [])\r\n\r\n    return (\r\n        <AuthContext.Provider\r\n            value = {{currentUser}}\r\n        >\r\n            {children}\r\n        </AuthContext.Provider>\r\n    );\r\n}\r\n\r\n","import { firebaseAuthentication } from \"./firebase\";\r\n\r\nexport const storeInSession = (item, value) => {\r\n    sessionStorage.setItem(item, value);\r\n}\r\n\r\nexport const saveInSession = (item, value) => {\r\n    sessionStorage.setItem(item, JSON.stringify(value));\r\n}\r\n\r\nexport const getFromSession = (item) => {\r\n    return JSON.parse(sessionStorage.getItem(item));\r\n}\r\n\r\nexport const logout = () => {\r\n    sessionStorage.clear();\r\n    firebaseAuthentication.signOut();\r\n}\r\n\r\nexport const removeItems = (key) =>{\r\n    sessionStorage.removeItem(key);\r\n}\r\n","import React, { Component, useContext } from 'react';\r\nimport Container from 'react-bootstrap/Container'\r\nimport \"./style.css\";\r\nimport ComponentHome from './component';\r\n\r\nimport reducer from \"./reducer\";\r\nimport { createStore, applyMiddleware, combineReducers } from \"redux\";\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport createSagaMiddleware from \"redux-saga\";\r\nimport { watchUsers } from \"./saga\";\r\nimport { Provider } from 'react-redux';\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport { AuthContext } from '../../components/authprovider/auth';\r\nimport { AuthProvider } from '../../components/authprovider/auth';\r\nimport { getFromSession } from '../../controller/session';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nconst rootReducer = combineReducers({\r\n    form: formReducer,\r\n    reducer\r\n});\r\n\r\nconst formStore = createStore(rootReducer);\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\nconst store = createStore(reducer, composeWithDevTools(applyMiddleware(sagaMiddleware)));\r\nsagaMiddleware.run(watchUsers);\r\n\r\nexport default class HomePage extends Component {\r\n    render() {\r\n        const currentUser  = getFromSession('currentUser');\r\n        return (\r\n            <AuthProvider>\r\n                <Provider store={formStore}>\r\n                    <Provider store={store}>\r\n                        <Container className='main-wrapper home' >\r\n                            <h1> Lista de Usuarios </h1>\r\n                            {\r\n                                currentUser ?  <ComponentHome /> :\r\n                                <Redirect to=\"/auth\"/>\r\n                            }\r\n                        </Container>\r\n                    </Provider>\r\n                </Provider>\r\n            </AuthProvider>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Field, FieldArray, FormSection } from 'redux-form'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport Select from '@material-ui/core/Select'\r\nimport InputLabel from '@material-ui/core/InputLabel'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport Radio from '@material-ui/core/Radio'\r\nimport RadioGroup from '@material-ui/core/RadioGroup'\r\nimport { Button, ButtonGroup, Switch, Input } from '@material-ui/core';\r\n/* import { FileUpload } from 'primereact/fileupload'; */\r\nimport './form.css';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport HelpIcon from '@material-ui/icons/Help';\r\n/* import { Rating } from 'primereact/rating'; */\r\nimport ReactHtmlParser, { processNodes, convertNodeToElement, htmlparser2 } from 'react-html-parser';\r\n/* import { Captcha } from 'primereact/captcha'; */\r\n\r\nexport default class MaterialUiForm extends Component {\r\n\r\n    renderTextField = ({\r\n        label,\r\n        input,\r\n        placeholder,\r\n        meta: { touched, invalid, error },\r\n        ...custom\r\n        }) => (\r\n        <TextField\r\n            label={label}\r\n            error={touched && invalid}\r\n            helperText={touched && error}\r\n            {...input}\r\n            {...custom}\r\n        />\r\n    )\r\n        \r\n    renderCheckbox = ({ input, label, placeholder }) => (\r\n        <div>\r\n            <FormControlLabel\r\n            control={\r\n                <Checkbox\r\n                checked={input.value ? true : false}\r\n                onChange={input.onChange}\r\n                />\r\n            }\r\n            label={ ReactHtmlParser(placeholder) }\r\n            />\r\n        </div>\r\n    )\r\n        \r\n    radioButton = ({ input, children, ...rest }) => {\r\n        const {options, key} = rest;\r\n        return (\r\n            <FormControl  key={`fcr-${key}`}>\r\n                <RadioGroup key={`rg-${key}`} {...input} {...rest}>\r\n                    {\r\n                        options.map((item, ri) => {\r\n                            return <FormControlLabel key={`ri-${ri}`} value={item.value} control={<Radio />} label={item.label} />\r\n                        })\r\n                    }\r\n                </RadioGroup>\r\n            </FormControl>\r\n    )}\r\n        \r\n    renderFromHelper = ({ touched, error }) => {\r\n        if (!(touched && error)) {\r\n            return\r\n        } else {\r\n            return <FormHelperText>{touched && error}</FormHelperText>\r\n        }\r\n    }\r\n\r\n    /* renderStarsButton = ({\r\n        input,\r\n        label,\r\n        meta: { touched, error, invalid },\r\n        children,\r\n        ...custom\r\n    }) => (\r\n        <Rating \r\n            value={1}\r\n            cancel={false} \r\n            error={touched && invalid}\r\n            {...input}\r\n        />\r\n        \r\n    ) */\r\n\r\n    renderSwitchButton = ({\r\n        input,\r\n        label,\r\n        meta: { touched, error, invalid },\r\n        children,\r\n        ...custom\r\n    }) => (\r\n        <Switch \r\n            cancel=\"medium\" \r\n            error={touched && invalid}\r\n            {...input}\r\n        />        \r\n    )\r\n\r\n    renderSelectField = ({\r\n        input,\r\n        label,\r\n        meta: { touched, error },\r\n        children,\r\n        ...custom\r\n        }) => (\r\n        <FormControl error={touched && !!error}>\r\n            <InputLabel htmlFor={`${input.name}-native-simple`}>{label}</InputLabel>\r\n            <Select\r\n            native\r\n            {...input}\r\n            {...custom}\r\n            inputProps={{\r\n                name: input.name,\r\n                id: `${input.name}-native-simple`\r\n            }}\r\n            >\r\n            {\r\n                <option key={`option-${input.name}`} value=\"\"></option>\r\n            }\r\n            {\r\n                custom.options.map((item, k) => {\r\n                    return <option \r\n                            key={`s-option-${k}`} \r\n                            value={item.value} \r\n                            >\r\n                                {item.label}\r\n                            </option>\r\n                })\r\n            }\r\n            </Select>\r\n            {this.renderFromHelper({ touched, error })}\r\n        </FormControl>\r\n    )\r\n\r\n    renderSpacer = (customKey) => (\r\n        <div \r\n            className={\"custom-input spacer\"}\r\n            key={customKey}\r\n        />\r\n    )\r\n\r\n\r\n    renderChidlren = ({ fields, meta: { touched, error }, ...props  }) => (\r\n        <ul className='form-child'>\r\n            { props.label && \r\n                <h3>\r\n                    {props.label}\r\n                </h3>\r\n            }\r\n            {fields && fields.length > 0 && fields.map((member, index) =>\r\n            <li key={index}>\r\n                <h4>{props.fieldtitle} #{index + 1}</h4>\r\n                <MaterialUiForm \r\n                    submitable={false} \r\n                    items={props.subitems}                           \r\n                    className=\"field-child\"\r\n                    member={member}\r\n                    dynamicOptions={props.dynamicOptions}\r\n                />\r\n                <div className=\"button-wrapper delete\"> \r\n                    <ButtonGroup color=\"primary\" aria-label=\"primary button group\">\r\n                        <Button \r\n                            color=\"secondary\"\r\n                            type='button'\r\n                            className='delete'\r\n                            title={props.removeLabel}\r\n                            onClick={() => fields.remove(index)}\r\n                        >\r\n                            {props.removeLabel}\r\n                        </Button>\r\n                    </ButtonGroup>\r\n                </div>\r\n            </li>\r\n            )}\r\n            <li>\r\n                <div className=\"button-wrapper add\"> \r\n                    <ButtonGroup color=\"primary\" aria-label=\"primary button group\">\r\n                        <Button \r\n                            color=\"primary\"\r\n                            type='button'\r\n                            className='add'\r\n                            title={props.addLabel}\r\n                            onClick={() => fields.push({})}\r\n                        >\r\n                            {props.addLabel}\r\n                        </Button>\r\n                    </ButtonGroup>\r\n                </div>\r\n                {touched && error && <span>{error}</span>}\r\n            </li>\r\n        </ul>\r\n    )\r\n\r\n\r\n    render () {\r\n        const { items, member, sectionTitle, changeInputFile, validations, dynamicOptions } = this.props;\r\n\r\n        return (\r\n                    <React.Fragment>\r\n                    <div className='field-container'>\r\n                        {\r\n                            sectionTitle && \r\n                            <h3>\r\n                                {sectionTitle}\r\n                            </h3>\r\n                        }\r\n\r\n                    {\r\n                        items.map((field, j) => {\r\n                            let renderComponent = {};\r\n\r\n                            field.options = dynamicOptions && dynamicOptions[field.name] ? dynamicOptions[field.name] : field.options;\r\n\r\n                            const specialName = member ? `${member}.${field.name}` : field.name;\r\n\r\n                            switch (field.typeForm) {\r\n                                case 'text':\r\n                                    renderComponent = this.renderTextField;\r\n                                    break;\r\n                                case 'radio':\r\n                                    renderComponent = this.radioButton;\r\n                                    break;\r\n                                case 'checkbox':\r\n                                    renderComponent = this.renderCheckbox;\r\n                                    break;\r\n                                case 'select':\r\n                                    renderComponent = this.renderSelectField;\r\n                                    break;\r\n                                case 'switch':\r\n                                        renderComponent = this.renderSwitchButton;\r\n                                        break;    \r\n                                case 'spacer':\r\n                                        renderComponent = this.renderSpacer;\r\n                                        break;\r\n                                case 'array':\r\n                                        renderComponent = this.renderChidlren;\r\n                                        break;\r\n                                case 'stars': \r\n                                        renderComponent = this.renderStarsButton;\r\n                                        break;\r\n                                default:\r\n                                    renderComponent = this.renderTextField;\r\n                                    break;\r\n                            }\r\n\r\n                            return (\r\n                                <div className={`material-field ${field.hidden ? 'no-visible' :  ''} ${field.className}`} key={j}>\r\n                                    {\r\n \r\n                                        field.typeForm === 'array' ? \r\n                                            <FieldArray \r\n                                                addLabel={field.addLabel} \r\n                                                removeLabel={field.removeLabel} \r\n                                                subitems={field.fields} \r\n                                                name={field.name} \r\n                                                label={field.label} \r\n                                                fieldtitle={field.fieldtitle} \r\n                                                component={renderComponent}\r\n                                                dynamicOptions={dynamicOptions}\r\n                                                />\r\n                                            :  field.typeForm === 'section' ?\r\n                                                <div className=\"section-container\">\r\n                                                    <FormSection name={field.name} >\r\n                                                        <MaterialUiForm \r\n                                                            sectionTitle={field.label}\r\n                                                            submitable={false} \r\n                                                            items={field.fields}                           \r\n                                                            className=\"field-child\"\r\n                                                            member={member}\r\n                                                            dynamicOptions={dynamicOptions}\r\n                                                            validations={validations} \r\n                                                        />\r\n                                                    </FormSection>\r\n                                                </div>\r\n                                          /*   : field.typeForm === 'captcha' ? \r\n                                                <Captcha siteKey=\"APP_REACT_CHAT_KEY\" onResponse={field.showResponse}></Captcha> */\r\n                                            /* : field.typeForm === 'file' ? \r\n                                            <React.Fragment>\r\n                                                {\r\n                                                    field.tooltip && \r\n                                                    <Tooltip className=\"form-tooltip\" title={field.tooltip} aria-label=\"add\">\r\n                                                            <HelpIcon />\r\n                                                    </Tooltip>\r\n                                                }\r\n                                                {field.label &&\r\n                                                <label className=\"label-name\">\r\n                                                    <span className=\"content-name\">{ReactHtmlParser(field.label)}</span>\r\n                                                </label>\r\n                                                }\r\n                                                <FormControl >\r\n                                                    <FileUpload \r\n                                                        maxFileSize={1000000}\r\n                                                        customUpload \r\n                                                        uploadHandler={changeInputFile} \r\n                                                        chooseLabel={field.placeholder}\r\n                                                        mode=\"basic\" />\r\n                                                </FormControl>\r\n                                            </React.Fragment> */\r\n                                            :\r\n                                                <React.Fragment>\r\n                                                    {\r\n                                                        field.tooltip && \r\n                                                        <Tooltip className=\"form-tooltip\" title={field.tooltip} aria-label=\"add\">\r\n                                                                <HelpIcon />\r\n                                                        </Tooltip>\r\n                                                    }\r\n                                                    {field.label &&\r\n                                                    <label className=\"label-name\">\r\n                                                        <span className=\"content-name\">{ReactHtmlParser(field.label)}</span>\r\n                                                    </label>\r\n                                                    }\r\n                                                    <Field\r\n                                                        name={specialName}\r\n                                                        component={renderComponent}\r\n                                                        label={field.type === \"date\" ? '' : field.label}\r\n                                                        placeholder={field.placeholder}\r\n                                                        options={field.options}\r\n                                                        multiline={field.multiline}\r\n                                                        rows={field.rows}\r\n                                                        key={`field-${j}`}\r\n                                                        subitems = {field.fields}\r\n                                                        type={field.type}\r\n                                                        disabled={field.disabled}\r\n                                                        className={field.type === \"date\" ? 'datepicker' : ''}\r\n                                                    >\r\n                                                        {\r\n                                                            field.typeForm === 'select' && <option key={`option-${j}`} value=\"\"></option>\r\n                                                        }\r\n                                                        {\r\n                                                            field.options && field.options.map((item, k) => {\r\n                                                                if (field.typeForm === 'radio') {\r\n                                                                    return <Radio key={`radio-${k}`} value={item.value} label={item.label} >{item.label}</Radio>\r\n                                                                } else if (field.typeForm === 'select') {\r\n                                                                    return <option key={`s-option-${k}`} value={item.value}>{item.label}</option>\r\n                                                                }\r\n                                                            })\r\n                                                        }\r\n                                                    </Field>\r\n                                                </React.Fragment>\r\n                                    }\r\n                                </div>\r\n                            )\r\n                        })\r\n                    }\r\n                    </div>\r\n                    </React.Fragment>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { Card, Image } from 'react-bootstrap';\r\nimport './form.css';\r\nimport MaterialUiForm from './form';\r\nimport { Button, ButtonGroup, Switch } from '@material-ui/core';\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from 'redux'\r\nimport { reduxForm } from 'redux-form';\r\nimport KeyboardEventHandler from 'react-keyboard-event-handler';\r\nimport ReactHtmlParser from 'react-html-parser';\r\nimport ForumOutlinedIcon from '@material-ui/icons/ForumOutlined';\r\n\r\nclass CustomReduxForm extends Component {\r\n    render() {\r\n        const {\r\n            items,\r\n            formTitle,\r\n            className,\r\n            formName,\r\n            buttons,\r\n            handleSubmit,\r\n            card,\r\n            formSubTitle,\r\n            submitable,\r\n            validations,\r\n            invalid,\r\n            pristine,\r\n            reset,\r\n            submitting,\r\n            dynamicOptions,\r\n            customHeader\r\n        } = this.props;\r\n\r\n        return (\r\n            card ?\r\n                <Card key={`card-${formName}`} className={`card-${className}`}>\r\n                    <Card.Header>\r\n                        {\r\n                            customHeader ?\r\n                                <Image className='imga-title' src={customHeader}></Image> :\r\n                                formTitle\r\n                        }\r\n                        <p>{ReactHtmlParser(formSubTitle)}</p>\r\n                    </Card.Header>\r\n                    <Card.Body>\r\n                        <form tabIndex={0} className={`form_container ${className}`} onSubmit={handleSubmit}>\r\n                            <KeyboardEventHandler\r\n                                handleKeys={['enter']}\r\n                                onKeyEvent={handleSubmit}>\r\n                                <MaterialUiForm\r\n                                    submitable={submitable}\r\n                                    items={items}\r\n                                    validations={validations}\r\n                                    formName={formName}\r\n                                    className={className}\r\n                                    handleSubmit={handleSubmit}\r\n                                    buttons={buttons}\r\n                                    dynamicOptions={dynamicOptions}\r\n                                />\r\n                            </KeyboardEventHandler>\r\n                            {\r\n                                buttons ?\r\n                                    <div className=\"button-wrapper\">\r\n                                        <ButtonGroup color=\"primary\" aria-label=\"primary button group\">\r\n                                            {\r\n                                                buttons.map((button, i) => {\r\n                                                    return (\r\n                                                        <Button\r\n                                                            key={`button-${button.label}`}\r\n                                                            variant={button.variant}\r\n                                                            color={button.style}\r\n                                                            type={`${submitable ? 'submit' : 'button'}`}\r\n                                                            className={button.className}\r\n                                                            onClick={button.primary ? handleSubmit : button.onClick}\r\n                                                            disabled={validations && button.primary ? invalid : false}\r\n                                                        >\r\n                                                            {button.label}\r\n                                                        </Button>\r\n                                                    )\r\n                                                })\r\n                                            }\r\n                                        </ButtonGroup>\r\n                                    </div> :\r\n                                    <div>\r\n                                        <button type=\"submit\" disabled={pristine || submitting}>\r\n                                            Submit\r\n                                        </button>\r\n                                        <button type=\"button\" disabled={pristine || submitting} onClick={reset}>\r\n                                            Clear Values\r\n                                        </button>\r\n                                    </div>\r\n                            }\r\n                        </form>\r\n                    </Card.Body>\r\n                </Card>\r\n                : <React.Fragment>\r\n                    <div className=\"form_wrapper\">\r\n                        {\r\n                            customHeader ?\r\n                                <div className='form-title'>\r\n                                    <Image className='image-title' src={customHeader}></Image>\r\n                                    <ForumOutlinedIcon className=\"icon-title\" />\r\n                                </div> :\r\n                                <h2 className=\"form-title\">\r\n                                    {formTitle}\r\n                                    <ForumOutlinedIcon className=\"icon-title\" />\r\n                                </h2>\r\n                        }\r\n                        <p className=\"form-sub-title\">\r\n                            {ReactHtmlParser(formSubTitle)}\r\n                        </p>\r\n                        <form tabIndex={0} className={`form_container ${className}`} onSubmit={handleSubmit}>\r\n                            <KeyboardEventHandler\r\n                                handleKeys={['enter']}\r\n                                onKeyEvent={handleSubmit}>\r\n                                <MaterialUiForm\r\n                                    submitable={submitable}\r\n                                    items={items}\r\n                                    validations={validations}\r\n                                    formName={formName}\r\n                                    className={className}\r\n                                    handleSubmit={handleSubmit}\r\n                                    buttons={buttons}\r\n                                    dynamicOptions={dynamicOptions}\r\n                                />\r\n                            </KeyboardEventHandler>\r\n                            {\r\n                                buttons ?\r\n                                    <div className=\"button-wrapper\">\r\n                                        <ButtonGroup color=\"primary\" aria-label=\"primary button group\">\r\n                                            {\r\n                                                buttons.map((button, i) => {\r\n                                                    return (\r\n                                                        <Button\r\n                                                            key={`button-${button.label}`}\r\n                                                            variant={button.variant}\r\n                                                            color={button.style}\r\n                                                            type={`${submitable ? 'submit' : 'button'}`}\r\n                                                            className={button.className}\r\n                                                            onClick={button.primary ? handleSubmit : button.onClick}\r\n                                                            disabled={validations && button.primary ? invalid : false}\r\n                                                        >\r\n                                                            {button.label}\r\n                                                        </Button>\r\n                                                    )\r\n                                                })\r\n                                            }\r\n                                        </ButtonGroup>\r\n                                    </div> :\r\n                                    <div>\r\n                                        <button type=\"submit\" disabled={pristine || submitting}>\r\n                                            Submit\r\n                                        </button>\r\n                                        <button type=\"button\" disabled={pristine || submitting} onClick={reset}>\r\n                                            Clear Values\r\n                                        </button>\r\n                                    </div>\r\n                            }\r\n                        </form>\r\n                    </div>\r\n                </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state, props) => {\r\n    return {\r\n        form: props.formName,\r\n        validate: props.validations,\r\n        // other props...\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps),\r\n    reduxForm({\r\n        //other redux-form options...\r\n    })\r\n)(CustomReduxForm);","import { createStructuredSelector } from 'reselect';\r\nimport { formValueSelector, getFormValues, } from 'redux-form' // ES6;\r\n\r\nexport const getResponseMessage = (state) => state.localReducer.responseMessage;\r\nexport const getIdConversation = (state) => state.localReducer.idConversation;\r\nexport const getReduxCompanyForm = (state) => getFormValues(\"chatReduxForm\")(state);\r\nexport const getSelectedCompanyForm = (state) => state.localReducer.selectedCompanyForm;\r\nexport const esperandoConv = (state) => state.localReducer.esperandoConv;\r\nexport const getConversationData = (state) => state.localReducer.dataConversation;\r\nexport const getNewChat = (state) =>state.localReducer.flagNewChat;\r\nexport const getCompany = (state) =>state.localReducer.company;\r\nexport const getCompanyId = (state) =>state.localReducer.company_id;\r\nexport const getHorario = (state) =>state.localReducer.horario;\r\nexport const getPlaySound = (state) => state.localReducer.playSound;\r\nexport const getInfoEncuesta  =(state) => state.localReducer.infoEncuesta;\r\nexport const getInfoFormClient = (state) =>state.localReducer.infoFormClient;\r\nexport const enableFormClient = (state) => state.localReducer.enableFormClient;\r\nexport const showWidget = (state) => state.localReducer.showWidget;\r\nexport const getTypeWriterWeb = (state) => state.localReducer.typeWriterWeb;\r\nexport const getUploading = (state) =>state.localReducer.uploading;\r\nexport const getStartWidget = (state) => state.localReducer.startWidget;\r\nexport const creandoConversacion = (state) => state.localReducer.creandoConversacion;\r\nexport const isEnabledCaptchaValidation = (state) =>state.localReducer.isEnabledCaptchaValidation;\r\nexport const sendingFlow = (state) =>state.localReducer.sendingFlow;\r\nexport const iniciaChatAbierto =(state) =>state.localReducer.iniciaChatAbierto;\r\nexport const chatOpened = (state) => state.localReducer.chatOpened;\r\nexport const authSelector = createStructuredSelector({\r\n    responseMessage: getResponseMessage,\r\n    idConversation: getIdConversation,\r\n});","export const UPDATE_FIELD_ATTRIBUTE = '@authentication/updateAttribute';\r\nexport const SEND_RESPONSE = '@chatbot/sendResponse';\r\nexport const LISTENER_RESPONSE = '@chatbot/listenerResponse';\r\nexport const LISTENER_RESPONSE_SUCCESS = '@chatBot/listenerResponseSuccess';\r\nexport const LISTENER_RESPONSE_ERROR = '@chatBot/listenerResponseError';\r\nexport const TEXT_RESPONSE = '@chatbot/TEXTResponse';\r\nexport const START_CONVERSATION = '@chatbot/startConversation';\r\nexport const LOAD_CONVERSATION = '@chatbot/loadConversation';\r\nexport const START_CONVERSATION_SUCCESS = '@chatbot/startConversationSuccess';\r\nexport const FORM_ENCUESTA = '@chatbot/enviarEncuesta';\r\nexport const FORM_ENCUESTA_SUCCESS = '@chatbot/enviarEncuestaSuccess';\r\nexport const FORM_ENCUESTA_ERROR = '@chatbot/enviarEncuestaError';\r\nexport const START_WIDGET = '@chatbot/startWidget';\r\nexport const START_WIDGET_ERROR = '@chatbot/startWidgetError';\r\nexport const START_WIDGET_SUCCES = '@chatbot/startWidgetSucces';\r\nexport const PLAY_SOUND = '@chatbot/playSound';\r\nexport const ENCUESTA_CONF = \"@chatbot/obtenerInfoConfEncuesta\";\r\nexport const ENCUESTA_CONF_SUCCESS = \"@chatbot/obtenerInfoConfEncuestaSuccess\";\r\nexport const SHOW_WIDGET = \"@chatbot/mostrarWidget\";\r\nexport const SHOW_WIDGET_SUCCESS = \"@chatbot/mostrarWidgetSuccess\";\r\nexport const CHANGE_FLAG_WIDGET = \"@chatbot/changeFlagShowWidget\";\r\nexport const HANDLER_FILE_MESSAGE = \"@chatbot/handleFileMessage\";\r\nexport const HANDLER_FILE_MESSAGE_SUCCESS = \"@chatbot/handleFileMessageSuccess\";\r\nexport const SVG_ICONO_EQUIS = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjUxMnB4IiBoZWlnaHQ9IjUxMnB4IiB2aWV3Qm94PSIwIDAgMzU3IDM1NyIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMzU3IDM1NzsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxnIGlkPSJjbGVhciI+CgkJPHBvbHlnb24gcG9pbnRzPSIzNTcsMzUuNyAzMjEuMywwIDE3OC41LDE0Mi44IDM1LjcsMCAwLDM1LjcgMTQyLjgsMTc4LjUgMCwzMjEuMyAzNS43LDM1NyAxNzguNSwyMTQuMiAzMjEuMywzNTcgMzU3LDMyMS4zICAgICAyMTQuMiwxNzguNSAgICIgZmlsbD0iI0ZGRkZGRiIvPgoJPC9nPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+Cjwvc3ZnPgo=\"\r\nexport const SENDING_MSG_DF = \"@chatbot/sendingMessageDialogFlow\";\r\nexport const CLIENTE_ALCALDIA = \"1029\";\r\nexport const CLIENTE_IDEAM = \"1031\";\r\nexport const CLIENTE_AGN = \"1032\";\r\nexport const ICONO_SEND_OSCURO = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0id2luZG93cy0xMjUyIj8+DQo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+DQo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPg0KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJDYXBhXzEiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iNTEycHgiIGhlaWdodD0iNTEycHgiIHZpZXdCb3g9IjAgMCA1MzUuNSA1MzUuNSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNTM1LjUgNTM1LjU7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnPg0KCTxnIGlkPSJzZW5kIj4NCgkJPHBvbHlnb24gcG9pbnRzPSIwLDQ5Ny4yNSA1MzUuNSwyNjcuNzUgMCwzOC4yNSAwLDIxNi43NSAzODIuNSwyNjcuNzUgMCwzMTguNzUgICAiIGZpbGw9InJnYmEoMCwgMCwgMCwgMC41NCkiLz4NCgk8L2c+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8L3N2Zz4=\"\r\nexport const INICIAR_CHAT_ABIERTO = \"@chatbot/iniciarChatAbierto\";\r\nexport const CAMBIAR_ESTADO_CHAT_ABIERTO = \"@chatbot/cambiarEstadoChatAbierto\";\r\nexport const TYPE_WRITER_WIDGET_WEB_SUCCESS = '@chatbot/typeWriterWidgetWebSuccess';\r\nexport const CONSULTA_TYPE_WRITER_WEB = '@chatbot/consultaTypeWriterWeb';\r\nexport const SEND_ACTION_CAROUSEL_SUCCESS = '@chatbot/sendActionCarouselSuccess';\r\nexport const ICONO_SEND_RED = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0id2luZG93cy0xMjUyIj8+DQo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+DQo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPg0KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJDYXBhXzEiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iNTEycHgiIGhlaWdodD0iNTEycHgiIHZpZXdCb3g9IjAgMCA1MzUuNSA1MzUuNSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNTM1LjUgNTM1LjU7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnPg0KCTxnIGlkPSJzZW5kIj4NCgkJPHBvbHlnb24gcG9pbnRzPSIwLDQ5Ny4yNSA1MzUuNSwyNjcuNzUgMCwzOC4yNSAwLDIxNi43NSAzODIuNSwyNjcuNzUgMCwzMTguNzUgICAiIGZpbGw9InJnYmEoMjE1LDM0LDM0LDAuNzY4NjI3NDUwOTgwMzkyMikiLz4NCgk8L2c+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8L3N2Zz4=\"\r\n\r\nexport const RESPONSE_MESSAGES = [\r\n    {\r\n        id: 'nx-001',\r\n        message: 'Unsupported platform',\r\n        user: 'bnet'\r\n    },\r\n    {\r\n        id: 'nx-002',\r\n        message: 'Lorem ipsum',\r\n        user: 'bnet'\r\n    },\r\n    {\r\n        id: 'nx-003',\r\n        message: 'contributors and audited',\r\n        user: 'bnet'\r\n    },\r\n    {\r\n        id: 'nx-035',\r\n        message: 'fWindows PowerShell',\r\n        user: 'bnet'\r\n    },\r\n    {\r\n        id: 'nx-004',\r\n        message: 'found 1 high severity vulnerability',\r\n        user: 'bnet'\r\n    },\r\n    {\r\n        id: 'nx-005',\r\n        message: 'Microsoft Corporation. All rights reserved.',\r\n        user: 'bnet'\r\n    },\r\n    {\r\n        id: 'nx-006',\r\n        message: 'Switched to a new branch',\r\n        user: 'bnet'\r\n    },\r\n    {\r\n        id: 'nx-007',\r\n        message: 'Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License',\r\n        user: 'bnet'\r\n    },\r\n    {\r\n        id: 'nx-008',\r\n        message: 'You must install peer dependencies yo',\r\n        user: 'bnet'\r\n    },\r\n    {\r\n        id: 'nx-009',\r\n        message: 'packages from 6 contributors and audited 1673',\r\n        user: 'bnet'\r\n    },\r\n    {\r\n        id: 'nx-010',\r\n        message: 'fWindows PowerShell',\r\n        user: 'bnet'\r\n    }\r\n];\r\n\r\nexport const COMPANY_FORM_TITLE = 'Chat SFC';\r\n\r\n\r\nexport const getLoginButton = (handlerSafe, handlerCancel) => {\r\n    return [\r\n        {\r\n            label: \"Enviar\",\r\n            className: \"auth-btn-send\",\r\n            action: false,\r\n            style: \"primary\",\r\n            primary: true,\r\n            onClick: handlerSafe\r\n        }\r\n    ]\r\n}\r\n\r\nexport const getEncuestaButton = (handlerSafe) => {\r\n\r\n    return [\r\n        {\r\n            label: \"Enviar\",\r\n            className: \"auth-btn-send\",\r\n            action: false,\r\n            style: \"primary\",\r\n            onClick: handlerSafe\r\n        }\r\n    ]\r\n}\r\n","    import {\r\n        VALIDATE_FIELD,\r\n    } from './constant';\r\n    \r\n    export const initialState = {\r\n        fieldName: false, \r\n        fieldValue: false,\r\n        submitted: false\r\n    };\r\n    \r\n    const reducer = (state = initialState, action) => {\r\n        const newState = { ...state };\r\n        const { payload, type, value } = action;\r\n    \r\n        switch (type) {\r\n            case VALIDATE_FIELD:\r\n             \r\n            return {\r\n                ...newState\r\n            };\r\n            default:\r\n            return {\r\n                ...newState\r\n            };\r\n        }\r\n    };\r\n    \r\n    export default reducer;\r\n    ","import { VALIDATE_FIELD } from \"./constant\";\r\nimport { takeLatest, put, call } from \"redux-saga/effects\";\r\n\r\nfunction* validateFields(action) {\r\n    /* console.log('saga.action', action); */\r\n}\r\n\r\nexport function* watchUsers() {\r\n    yield takeLatest(VALIDATE_FIELD, validateFields);\r\n}","import React from 'react'\r\n\r\nimport { Form, InputGroup } from 'react-bootstrap';\r\nimport CustomField from './customfield';\r\nimport reducer from \"./reducer\";\r\nimport { createStore, applyMiddleware } from \"redux\";\r\nimport createSagaMiddleware from \"redux-saga\";\r\nimport { watchUsers } from \"./saga\";\r\nimport { Provider } from 'react-redux';\r\nimport { reduxForm } from 'redux-form'\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\nconst storeFileds = createStore(reducer, applyMiddleware(sagaMiddleware));\r\nsagaMiddleware.run(watchUsers);\r\n\r\nclass CustomReduxForm extends React.Component {\r\n\r\n  handleButtonClick = () => {\r\n    this.form.reset() // resets \"username\" field to \"admin\"\r\n  }\r\n\r\n  render() {\r\n  const { items, formName, dataObject, updateAction, className, submitted } = this.props;\r\n  //console.log('dataObject', dataObject);\r\n  return (\r\n        <Form id={`form-${formName}`} className={className} key={`form-${formName}`} name={formName}>\r\n          { dataObject && items && items.map((field, j) => {\r\n              return <InputGroup key={j} className=\"form-custom-wrapper\">\r\n                <Provider store={storeFileds}>\r\n                          <CustomField\r\n                              id={j}\r\n                              label={field.label} \r\n                              hint={field.hint}\r\n                              type={field.type}\r\n                              typeForm={field.typeForm}\r\n                              value={dataObject[field.name]}\r\n                              options={field.options}\r\n                              disable={field.disable} \r\n                              placeholder={field.placeholder}\r\n                              updateAction={updateAction}\r\n                              name={field.name}\r\n                              submitted={submitted}\r\n                              className={field.className}\r\n                              stars = {field.stars}\r\n                              cancel = {field.cancel}\r\n                          />\r\n                </Provider>\r\n                      </InputGroup>\r\n          }\r\n        )}\r\n      </Form>\r\n  ) \r\n}\r\n}\r\n\r\nexport default reduxForm({\r\n  form: 'syncValidation', // a unique identifier for this form\r\n})(CustomReduxForm)","import React, { Component } from 'react';\r\nimport { Card } from 'react-bootstrap';\r\nimport './form.css';\r\nimport CustomReduxForm from './customReduxForm';\r\nimport CustomButton from '../custombutton/button';\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\n\r\n\r\n\r\nexport default class CustomForm extends Component {\r\n\r\n\r\n    render() {\r\n        const { items, formTitle, formSubtitle, className, formName, values, buttons, updateAction, card, submitted, loading } = this.props;\r\n\r\n        let spinner = <CircularProgress color=\"secondary\"></CircularProgress>;\r\n        return (\r\n            card ?\r\n                <Card key={`card-${formName}`} className={`card-${className}`}>\r\n                    <Card.Header>\r\n                        {formTitle}\r\n                    </Card.Header>\r\n                    <Card.Body>\r\n                        <p className=\"font-bold\">{formSubtitle}</p>\r\n                        <CustomReduxForm submitted={submitted} items={items} formName={formName} dataObject={values} updateAction={updateAction} />\r\n                        <CustomButton items={buttons} />\r\n                    </Card.Body>\r\n                </Card>\r\n                : <React.Fragment>\r\n                    <h2 className=\"form-title\">\r\n                        {formTitle}\r\n                    </h2>\r\n                    \r\n\r\n\r\n                    <p className=\"font-bold subtitleStyle\">{formSubtitle}</p>\r\n                    <CustomReduxForm submitted={submitted} key={formName} className={`form-${className}`} items={items} formName={formName} dataObject={values} updateAction={updateAction} />\r\n                    <CustomButton items={buttons} />\r\n                </React.Fragment>\r\n        );\r\n    }\r\n}\r\n","import React, { createRef } from \"react\";\r\nimport ReactMarkdown from \"react-markdown\";\r\nimport remarkGfm from \"remark-gfm\";\r\n\r\nclass TypewriterMarkdown extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      displayedText: \"\",\r\n      done: false,\r\n    };\r\n    this.index = 0;\r\n    this.interval = null;\r\n    this.finalRef = createRef();\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { richtext, speed = 30 } = this.props;\r\n    this.interval = setInterval(() => {\r\n      if (this.index < richtext.length) {\r\n        this.setState(\r\n          (prevState) => ({\r\n            displayedText: prevState.displayedText + richtext.charAt(this.index),\r\n          }),\r\n          () => {\r\n            if (this.finalRef.current) {\r\n              this.finalRef.current.scrollIntoView({ behavior: \"smooth\" });\r\n            }\r\n          }\r\n        );\r\n        this.index++;\r\n      } else {\r\n        clearInterval(this.interval);\r\n        this.setState({ done: true });\r\n      }\r\n    }, speed);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.interval);\r\n  }\r\n\r\n  render() {\r\n    const { displayedText, done } = this.state;\r\n\r\n    return (\r\n      <div\r\n        className=\"typewriter-text-div\"\r\n      >\r\n        {done ? (\r\n          <ReactMarkdown\r\n            remarkPlugins={[remarkGfm]}\r\n            linkTarget=\"_blank\"\r\n            children={displayedText}\r\n            className=\"typewriter-text\"\r\n          />\r\n        ) : (\r\n          <pre >\r\n            {displayedText}\r\n            <span ref={this.finalRef} />\r\n          </pre>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TypewriterMarkdown;","import React, { Component, useEffect, useRef } from 'react';\r\nimport { Widget } from \"react-chat-widget\";\r\nimport \"react-chat-widget/lib/styles.css\";\r\nimport ReactMarkdown from 'react-markdown';\r\nimport remarkGfm from 'remark-gfm';\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\r\nimport { Image } from 'react-bootstrap';\r\n/* import { Button } from 'primereact/button'; */\r\nimport ForumOutlinedIcon from '@material-ui/icons/ForumOutlined';\r\nimport { LoadCanvasTemplate } from 'react-simple-captcha';\r\n/* import { InputText } from 'primereact/inputtext'; */\r\nimport Button from '@mui/material/Button';\r\nimport TextField from '@mui/material/TextField';\r\nimport TypewriterMarkdown from './typeWriter';\r\n\r\nconst typedMessages = new Set();\r\n\r\n// util para crear una key si no te pasan messageId\r\nfunction makeKeyFromProps(props) {\r\n    if (props.messageId) return String(props.messageId);\r\n    // fallback: usa texto + origen (corta a 200 chars para evitar keys gigantes)\r\n    const text = (props.text || '').slice(0, 200);\r\n    return `${props.from || 'unknown'}|${text}`;\r\n}\r\n\r\nconst AccessibleChatWidget = ({\r\n    company,\r\n    idConversartion,\r\n    startConversation,\r\n    handleNewUserMessage,\r\n}) => {\r\n    const containerRef = useRef(null);\r\n    const labelId = \"chat-message-label\";\r\n\r\n    useEffect(() => {\r\n        if (typeof document === \"undefined\") return;\r\n\r\n        // Insertar label sr-only si no existe\r\n        if (containerRef.current && !containerRef.current.querySelector(`#${labelId}`)) {\r\n            const labelEl = document.createElement(\"label\");\r\n            labelEl.id = labelId;\r\n            labelEl.className = \"sr-only\";\r\n            labelEl.textContent = \"Escribe tu mensaje en el chat\";\r\n            containerRef.current.insertBefore(labelEl, containerRef.current.firstChild);\r\n        }\r\n\r\n        // Funcin que aplica accesibilidad\r\n        const applyAccessibility = () => {\r\n            // Input de texto\r\n            const input = document.querySelector(\".rcw-new-message\");\r\n            if (input) {\r\n                input.setAttribute(\"aria-labelledby\", labelId);\r\n                input.setAttribute(\"title\", \"Campo de texto para escribir un mensaje en el chat\");\r\n                if (!input.hasAttribute(\"tabindex\")) {\r\n                    input.setAttribute(\"tabindex\", \"0\");\r\n                }\r\n            }\r\n\r\n            // Botn enviar\r\n            const sendBtn = document.querySelector(\".rcw-send\");\r\n            if (sendBtn) {\r\n                sendBtn.setAttribute(\"aria-label\", \"Enviar mensaje\");\r\n                sendBtn.setAttribute(\"title\", \"Enviar mensaje\");\r\n            }\r\n\r\n            //imagen de header logo del cliente\r\n            const logoBotForm = document.querySelector(\".chat-image-header\");\r\n            if (logoBotForm) {\r\n                // Si quieres que sea descriptivo\r\n                logoBotForm.setAttribute(\"alt\", \"Logo cliente asistente virtual\");\r\n                logoBotForm.setAttribute(\"title\", \"Logo cliente asistente virtual\");\r\n            }\r\n\r\n            //imagen de header logo del cliente\r\n            const avatarForm = document.querySelector(\".rcw-avatar\");\r\n            if (avatarForm) {\r\n                // Si quieres que sea descriptivo\r\n                avatarForm.setAttribute(\"alt\", \"Avatar del asistente virtual\");\r\n                avatarForm.setAttribute(\"title\", \"Avatar del asistente virtual\");\r\n            }\r\n            // cono del botn enviar\r\n            const sendIcon = document.querySelector(\".rcw-send-icon\");\r\n            if (sendIcon) {\r\n                sendIcon.setAttribute(\"alt\", \"\");\r\n                sendIcon.removeAttribute(\"title\");\r\n            }\r\n\r\n            // Botn launcher (abrir/cerrar chat)\r\n            const launcher = document.querySelector(\".rcw-open-launcher\");\r\n            if (launcher) {\r\n                launcher.setAttribute(\"aria-label\", \"Abrir chat - asistente virtual\");\r\n                launcher.setAttribute(\"title\", \"Abrir chat - asistente virtual\");\r\n                launcher.setAttribute(\"role\", \"button\");\r\n                launcher.setAttribute(\"tabindex\", \"0\");\r\n\r\n                // Mejorar navegacin con teclado\r\n                if (!launcher.__accessibleKeyHandlerInstalled) {\r\n                    const keyHandler = (e) => {\r\n                        if (e.key === \"Enter\" || e.key === \" \") {\r\n                            e.preventDefault();\r\n                            launcher.click();\r\n                        }\r\n                    };\r\n                    launcher.addEventListener(\"keydown\", keyHandler);\r\n                    launcher.__accessibleKeyHandlerInstalled = true;\r\n                }\r\n            }\r\n        };\r\n\r\n        // Ejecutar una vez y observar cambios en DOM\r\n        applyAccessibility();\r\n        const observer = new MutationObserver(() => applyAccessibility());\r\n        observer.observe(document.body, { childList: true, subtree: true });\r\n\r\n        return () => observer.disconnect();\r\n    }, []);\r\n\r\n    return (\r\n        <div ref={containerRef} className=\"chat-widget-wrapper\">\r\n            <style>{`\r\n        .sr-only {\r\n          position: absolute !important;\r\n          width: 1px !important;\r\n          height: 1px !important;\r\n          padding: 0 !important;\r\n          margin: -1px !important;\r\n          overflow: hidden !important;\r\n          clip: rect(0, 0, 0, 0) !important;\r\n          white-space: nowrap !important;\r\n          border: 0 !important;\r\n        }\r\n      `}</style>\r\n\r\n            <Widget\r\n                title={company.nombre}\r\n                subtitle=\"\"\r\n                className=\"chat-widget-container\"\r\n                senderPlaceHolder=\"En qu te puedo ayudar?\"\r\n                handleNewUserMessage={!idConversartion ? startConversation : handleNewUserMessage}\r\n                profileAvatar={company.avatar}\r\n                titleAvatar={company.logoNombre}\r\n                toggleInputDisabled={false}\r\n                toggleWidget={true}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AccessibleChatWidget;\r\n\r\n// const AccessibleChatWidget = ({ company, idConversartion, startConversation, handleNewUserMessage }) => {\r\n//     useEffect(() => {\r\n//         // Forzar accesibilidad en launcher (botn de abrir/cerrar chat)\r\n//         // const logoBotForm = document.querySelector(\".chat-image-header\");\r\n//         // if (logoBotForm) {\r\n//         //     logoBotForm.setAttribute(\"alt\", \"Logo cliente chatbot\");\r\n//         //     logoBotForm.setAttribute(\"title\", \"Logo cliente chatbot\");\r\n//         // }\r\n\r\n//         const buttonClosedBot = document.querySelector(\".rcw-open-launcher\");\r\n//         if (buttonClosedBot) {\r\n\r\n//             buttonClosedBot.setAttribute(\"alt\", \"Avatar del asistente virtual\");\r\n//             buttonClosedBot.setAttribute(\"title\", \"Avatar del asistente virtual\"); // visible al pasar mouse\r\n//         }\r\n\r\n//         const cajaNewMsg = document.querySelector(\".rcw-new-message\");\r\n//         if (cajaNewMsg) {\r\n\r\n//             cajaNewMsg.setAttribute(\"aria-label\", \"Campo de texto para escribir un mensaje en el chat\");\r\n//             cajaNewMsg.setAttribute(\"title\", \"Campo de texto para escribir un mensaje en el chat\"); // visible al pasar mouse\r\n//         }\r\n\r\n//     }, []);\r\n\r\n//     return (\r\n//         <Widget\r\n//             title={company.nombre}\r\n//             subtitle=\"\"\r\n//             className=\"chat-widget-container\"\r\n//             senderPlaceHolder=\"En qu te puedo ayudar?\"\r\n//             inputAttributes={{\r\n//                 \"aria-label\": \"Campo de texto para escribir un mensaje en el chat\",\r\n//                 \"title\": \"Campo de texto para escribir un mensaje en el chat\"\r\n//             }}\r\n//             handleNewUserMessage={!idConversartion ? startConversation : handleNewUserMessage}\r\n//             profileAvatar={company.avatar}\r\n//             titleAvatar={company.logoNombre}\r\n//             toggleInputDisabled={false}\r\n//             toggleWidget={true}\r\n//         // launcherCloseImg=\"https://firebasestorage.googleapis.com/v0/b/chat-asesores-prueba.appspot.com/o/alcaldiaBogota%2Flogo_chatico.png?alt=media&token=d3e50bea-2ab0-4ea1-a253-c4ad880169eb\"\r\n//         // launcherOpenImg=\"https://firebasestorage.googleapis.com/v0/b/chat-asesores-prueba.appspot.com/o/alcaldiaBogota%2Flogo_chatico.png?alt=media&token=d3e50bea-2ab0-4ea1-a253-c4ad880169eb\"\r\n//         />\r\n//     );\r\n// };\r\n\r\n\r\nexport class RichText extends Component {\r\n    state = {\r\n        mostrarTypewriter: false\r\n    };\r\n\r\n    componentDidMount() {\r\n        const { nuevoMsge } = this.props;\r\n        const key = makeKeyFromProps(this.props);\r\n        this._messageKey = key; // por si quieres usarlo despus\r\n\r\n        // Si es un \"nuevo mensaje\" y an no lo hemos tipeado -> activar y marcarlo\r\n        if (nuevoMsge && !typedMessages.has(key)) {\r\n            typedMessages.add(key);\r\n            this.setState({ mostrarTypewriter: true });\r\n        }\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        console.log(\"actualizando\")\r\n    }\r\n\r\n    render() {\r\n        const { text, from, typeWriterWeb, nuevoMsge } = this.props;\r\n        const { mostrarTypewriter } = this.state;\r\n        let richtext = text ? text.replaceAll(/\\*/ig, '**').replaceAll(/\\n+/ig, '\\n\\n') : '';\r\n\r\n        return (\r\n            <div className='richtext-message typewriter-container'>\r\n                {typeWriterWeb && mostrarTypewriter ?\r\n\r\n                    <TypewriterMarkdown\r\n                        richtext={richtext} speed={20}\r\n                    />\r\n                    : <ReactMarkdown remarkPlugins={[remarkGfm]} linkTarget=\"_blank\" children={richtext} />\r\n                }\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport class CustomSpinner extends Component {\r\n    render() {\r\n        const { id, text, type, className, spinnerClassName, textClassName, color } = this.props;\r\n\r\n        return (\r\n            <div className={`modal-container-${className}`}>\r\n                <div id={id} className={className}>\r\n                    {\r\n                        type === 'linear' ? <LinearProgress className={spinnerClassName} color={color} /> :\r\n                            <CircularProgress className={spinnerClassName} color={color} />\r\n                    }\r\n                    {text && <p className={textClassName}> {text} </p>}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport class CustomCaptcha extends Component {\r\n    render() {\r\n        const { subtitle, logo, reloadText, placeholder, renderThis, svgIconX } = this.props;\r\n\r\n        return (\r\n            <div className=\"captcha-container\">\r\n                <div className='form-title'>\r\n                    <Image style={{ maxWidth: \"51%\" }} className='image-title' src={logo}></Image>\r\n                    <ForumOutlinedIcon className=\"icon-title\" />\r\n                </div>\r\n                <p className=\"form-sub-title\">\r\n                    {subtitle}\r\n                </p>\r\n\r\n                <div className=\"captchaForm\">\r\n                    <div className=\"flex align-items-center justify-content-center \">\r\n                        <LoadCanvasTemplate\r\n                            reloadText={reloadText} />\r\n                    </div>\r\n                    <div className=\"flex align-items-center justify-content-center mt-2\">\r\n                        {/* <InputText style={{ \"width\": \"13rem\" }} placeholder={placeholder} value={renderThis.state.valueCaptcha} onInput={(e) => renderThis.setState({ valueCaptcha: e.target.value })} /> */}\r\n                        <TextField sx={{ \"width\": \"13rem\" }} id=\"outlined-basic\" label={placeholder} variant=\"outlined\" value={renderThis.state.valueCaptcha} onInput={(e) => renderThis.setState({ valueCaptcha: e.target.value })} />\r\n                    </div>\r\n                    {renderThis.state.errorCaptchaInvalido ?\r\n                        <div className=\"flex align-items-center justify-content-center\">\r\n                            <p style={{ \"color\": \"red\", \"paddingTop\": \"0px\" }} className=\"form-sub-title\" >Caracteres incorrectos, intente de nuevo.</p>\r\n                        </div>\r\n                        : false}\r\n                    <div className=\"flex align-items-center justify-content-center mt-3\">\r\n                        {/* <Button className=\"p-button-info\" label=\"Enviar\" onClick={() => renderThis.doSubmit(renderThis.state.valueCaptcha)}></Button> */}\r\n                        <Button color=\"secondary\" variant=\"contained\" onClick={() => renderThis.doSubmit(renderThis.state.valueCaptcha)}>Enviar</Button>\r\n                    </div>\r\n                </div>\r\n                <React.Fragment>\r\n                    <div className=\"fake-field\"></div>\r\n                    <div className=\"fake-button close\">\r\n                        <button className=\"rcw-close-button rcw-fake-close-button\">\r\n                            <img src={svgIconX} className=\"rcw-close\" alt=\"close\" />\r\n                        </button>\r\n                    </div>\r\n                </React.Fragment>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n","import React, { Component } from \"react\";\r\nimport \"./style.css\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { call } from \"redux-saga/effects\";\r\nimport CustomReduxForm from \"../../components/materialform/customform\";\r\nimport beep from '../../static/sounds/beep1sec.mp3';\r\nimport 'react-h5-audio-player/lib/styles.css';\r\n/* import { FileUpload } from 'primereact/fileupload'; */\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\nimport 'react-h5-audio-player/lib/styles.css';\r\nimport $ from 'jquery';\r\nimport { Beforeunload } from 'react-beforeunload';\r\nimport { loadCaptchaEnginge, LoadCanvasTemplate, validateCaptcha } from 'react-simple-captcha';\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport {\r\n    getResponseMessage, getIdConversation, getSelectedCompanyForm, getConversationData, getNewChat,\r\n    getCompany, getCompanyId, getHorario, getReduxCompanyForm, getPlaySound, getInfoEncuesta,\r\n    getInfoFormClient, enableFormClient, getUploading, esperandoConv, getStartWidget,\r\n    creandoConversacion, isEnabledCaptchaValidation, sendingFlow, iniciaChatAbierto, chatOpened,\r\n    getTypeWriterWeb\r\n} from \"./selectors\";\r\n\r\n\r\n\r\nimport {\r\n    LISTENER_RESPONSE,\r\n    TEXT_RESPONSE,\r\n    SEND_RESPONSE,\r\n    START_CONVERSATION,\r\n    LOAD_CONVERSATION,\r\n    getLoginButton,\r\n    UPDATE_FIELD_ATTRIBUTE,\r\n    getEncuestaButton,\r\n    FORM_ENCUESTA,\r\n    START_WIDGET,\r\n    ENCUESTA_CONF,\r\n    SHOW_WIDGET,\r\n    HANDLER_FILE_MESSAGE,\r\n    SVG_ICONO_EQUIS,\r\n    CLIENTE_ALCALDIA,\r\n    ICONO_SEND_OSCURO,\r\n    INICIAR_CHAT_ABIERTO,\r\n    CAMBIAR_ESTADO_CHAT_ABIERTO,\r\n    ICONO_SEND_RED,\r\n    CONSULTA_TYPE_WRITER_WEB,\r\n    CLIENTE_IDEAM,\r\n    CLIENTE_AGN\r\n} from './constants';\r\n\r\nimport { Widget, dropMessages } from 'react-chat-widget';\r\nimport 'react-chat-widget/lib/styles.css';\r\nimport { storeInSession, getFromSession, removeItems } from \"../../controller/session\";\r\nimport { ReactMic } from 'react-mic';\r\nimport CustomForm from \"../../components/customform/customform\";\r\n/* import { Message } from 'primereact/message'; */\r\nimport { IconButton } from \"@material-ui/core\";\r\nimport { Mic, SendRounded } from \"@material-ui/icons\";\r\nimport AccessibleChatWidget, { CustomCaptcha, CustomSpinner } from \"./components\";\r\nimport InputFiles from 'react-input-files';\r\nimport { renderCustomComponent } from 'react-chat-widget';\r\n\r\n\r\n\r\nclass ComponentAuth extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        const { startWidget, containerData } = props;\r\n\r\n        startWidget(containerData);\r\n\r\n        this.state = {\r\n            record: false,\r\n            valueCaptcha: '',\r\n            captchaValidado: false,\r\n            errorCaptchaInvalido: false,\r\n\r\n        }\r\n        this.onStop = this.onStop.bind(this);\r\n        this.doSubmit = this.doSubmit.bind(this);\r\n    }\r\n    startRecording = () => {\r\n        this.setState({ record: true });\r\n        const soundWave = document.querySelector('.sound-wave')\r\n        soundWave.style.display = 'block'\r\n        const rwcSender = document.querySelector('.rcw-send')\r\n        const sendAudio = document.querySelector('.attach-widget-send-audio')\r\n        if (rwcSender) {\r\n            rwcSender.style.display = 'none'\r\n        }\r\n        if (sendAudio) {\r\n            sendAudio.style.display = 'block'\r\n        }\r\n\r\n        soundWave.setAttribute('title', \"...Grabando Audio\")\r\n    }\r\n\r\n    stopRecording = () => {\r\n        this.setState({ record: false });\r\n    }\r\n\r\n    onData(recordedBlob) {\r\n        //console.log('chunk of real-time data is: ', recordedBlob);\r\n    }\r\n\r\n    lauchChatWidget = () => {\r\n        const { cambiarEstadoChatAbiertoTrue } = this.props\r\n\r\n        setTimeout(() => {\r\n\r\n            let button = $(\".chat-closed .rcw-launcher\");\r\n            let buttonChat = $(\".rcw-widget-container .rcw-launcher\");\r\n            let body = $('body');\r\n\r\n            if (buttonChat) {\r\n                //console.log('single buttonChat');\r\n                buttonChat.click();\r\n                body.addClass('chat-opened');\r\n            } else if (button) {\r\n                //console.log('single button');\r\n                button.click();\r\n            }\r\n\r\n            cambiarEstadoChatAbiertoTrue()\r\n        }, 2500);\r\n\r\n    }\r\n\r\n    onStop(recordedBlob) {\r\n        //console.log('***chunk of onStop: ***', recordedBlob)\r\n        const sessionObject = getFromSession('idConversartion');\r\n        const { idConversartion, startConversation } = sessionObject ? sessionObject : {};\r\n        const { handlerFileMessage } = this.props;\r\n        const soundWave = document.querySelector('.sound-wave').style.display = 'none';\r\n        const rwcSender = document.querySelector('.rcw-send');\r\n        rwcSender.style.display = 'block'\r\n        const sendAudio = document.querySelector('.attach-widget-send-audio')\r\n        if (sendAudio) {\r\n            sendAudio.style.display = 'none'\r\n        }\r\n        if (!idConversartion) {\r\n            startConversation(recordedBlob)\r\n        } else {\r\n            handlerFileMessage({ files: [recordedBlob], isVoiceRecord: true })\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    validations = (values) => {\r\n        const errors = {}\r\n        console.log(values)\r\n        const requiredFields = [\r\n            'mail',\r\n            'terminos',\r\n            'nombre',\r\n            'subject',\r\n            'related',\r\n        ]\r\n\r\n        requiredFields.forEach(field => {\r\n            if (!values[field]) {\r\n                errors[field] = 'Este campo es obligatorio'\r\n            }\r\n        })\r\n        if (\r\n            values.mail &&\r\n            !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.mail)\r\n        ) {\r\n            errors.mail = 'El correo ingresado no es invlido'\r\n        }\r\n\r\n        return errors\r\n    }\r\n\r\n    onUnload = e => {\r\n        e.preventDefault();\r\n        const clienteBody = {\r\n            company: '1020',\r\n            nombre: 'cerrada',\r\n            mail: 'cerrada',\r\n            motivo: 'cerrada'\r\n        }\r\n        const urlConv = 'https://us-central1-chat-asesores-3.cloudfunctions.net/nuevaConversacionWeb';\r\n        const response = call(fetch, urlConv, {\r\n            method: 'POST',\r\n            headers: {\r\n                accept: 'application/json, text/plain, */*',\r\n                'content-type': 'application/json',\r\n                'Cache-Control': 'no-cache',\r\n                'cache-control': 'no-cache',\r\n            },\r\n            body: JSON.stringify(clienteBody)\r\n        });\r\n\r\n        //alert('adasdf')\r\n    };\r\n\r\n\r\n    cerrar() {\r\n        let company = getFromSession('company_id')\r\n        let idConv = getFromSession('idConversartion')\r\n        var url = process.env.REACT_APP_ABANDONO;\r\n        var url = url + '?idConv=' + idConv.idConversartion + '&idCompany=' + company;\r\n        navigator.sendBeacon(url, '');\r\n    }\r\n    componentWillMount() {\r\n\r\n        const { consultaTypeWriter } = this.props;\r\n\r\n        consultaTypeWriter();\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        const { listenerResponse, containerData, company, chatOpened } = this.props;\r\n        const sessionObject = getFromSession('idConversartion');\r\n        const { idConversartion } = sessionObject ? sessionObject : {};\r\n        const chatLauncher = document.querySelector('.rcw-launcher').style.display = 'none';\r\n\r\n        let chatClosedLauncher = $('.rcw-close-widget-container .rcw-launcher');\r\n\r\n        if (chatClosedLauncher) {\r\n\r\n            if (containerData.company === CLIENTE_ALCALDIA) {\r\n\r\n                var buttonImage = document.querySelector('.rcw-launcher img');\r\n                buttonImage.setAttribute('src', \"https://firebasestorage.googleapis.com/v0/b/chat-asesores-3.appspot.com/o/alcaldiaBogota%2FbotonChatico.png?alt=media&token=db90b93a-c780-4ade-a611-20d5b193e97c\");\r\n            }\r\n\r\n            if (containerData.company === CLIENTE_IDEAM) {\r\n                var buttonImage = document.querySelector('.rcw-launcher img');\r\n                buttonImage.setAttribute('src', \"https://storage.googleapis.com/chat-asesores-3.appspot.com/ideam/gaiaInicioBot2.png\");\r\n            }\r\n\r\n            if (containerData.company === CLIENTE_AGN) {\r\n                var buttonImage = document.querySelector('.rcw-launcher img');\r\n                buttonImage.setAttribute('src', \"https://storage.googleapis.com/chat-asesores-3.appspot.com/agn/Rosa_chat_bot_logo-min.png\");\r\n            }\r\n\r\n            chatClosedLauncher.title = 'Hola En qu puedo ayudarte?';\r\n        }\r\n        const $this = this;\r\n\r\n\r\n        $(document).on('click', '.fake-button.close', () => {\r\n            $this.hideConversation();\r\n        });\r\n\r\n        if (idConversartion) {\r\n\r\n            storeInSession('idConversartion', JSON.stringify({ idConversartion }));\r\n            listenerResponse(idConversartion);\r\n\r\n        } else {\r\n            const chatContainer = document.querySelector('.rcw-widget-container');\r\n            chatContainer.classList.add('chat-closed');\r\n\r\n            $(document).on('click', '.chat-closed .rcw-launcher', () => {\r\n                $this.showConversation();\r\n            });\r\n\r\n        }\r\n\r\n\r\n        $(document).on('click', '.rcw-close-button', (e) => {\r\n\r\n            $('body').removeClass('chat-opened');\r\n\r\n            document.querySelector('.main-wrapper').setAttribute('style', 'z-index: 599!important');\r\n            document.querySelector('.rcw-widget-container').setAttribute('style', 'width: 0%!important');\r\n            const soundWave = document.querySelector('.sound-wave')\r\n            if (soundWave) {\r\n                soundWave.style.display = 'none';\r\n\r\n            }\r\n            const sendAudio = document.querySelector('.attach-widget-send-audio')\r\n\r\n            if (sendAudio) {\r\n                sendAudio.style.display = 'none';\r\n            }\r\n\r\n            if (containerData.company === CLIENTE_ALCALDIA) {\r\n\r\n                var containerMessages = document.querySelector('.chat-opened');\r\n                var button = document.querySelector('.rcw-launcher');\r\n                var buttonImage = document.querySelector('.rcw-launcher img');\r\n                if (containerMessages == null || !containerMessages) {\r\n\r\n                    if (buttonImage) {\r\n                        button.style.padding = \"0px 0px 0px 0px\";\r\n                        buttonImage.style.width = \"62px\"\r\n                        buttonImage.setAttribute('src', \"https://firebasestorage.googleapis.com/v0/b/chat-asesores-3.appspot.com/o/alcaldiaBogota%2FbotonChatico.png?alt=media&token=db90b93a-c780-4ade-a611-20d5b193e97c\");\r\n                    }\r\n                } else {\r\n                    buttonImage.removeAttribute(\"width\")\r\n                    buttonImage.style.width = \"20px\"\r\n                    button.style.width = \"48px\"\r\n                    button.style.height = \"48px\"\r\n\r\n                    buttonImage.setAttribute('src', SVG_ICONO_EQUIS)\r\n                }\r\n            }\r\n\r\n            if (containerData.company === CLIENTE_IDEAM) {\r\n\r\n                var containerMessages = document.querySelector('.chat-opened');\r\n                var button = document.querySelector('.rcw-launcher');\r\n                var buttonImage = document.querySelector('.rcw-launcher img');\r\n                if (containerMessages == null || !containerMessages) {\r\n\r\n                    if (buttonImage) {\r\n                        button.style.padding = \"0px 0px 0px 0px\";\r\n                        buttonImage.style.width = \"62px\"\r\n                        buttonImage.setAttribute('src', \"https://storage.googleapis.com/chat-asesores-3.appspot.com/ideam/gaiaInicioBot2.png\");\r\n                    }\r\n                } else {\r\n                    buttonImage.removeAttribute(\"width\")\r\n                    buttonImage.style.width = \"20px\"\r\n                    button.style.width = \"48px\";\r\n                    button.style.height = \"48px\";\r\n                    button.style.borderRadius = \"50%\";\r\n                    buttonImage.setAttribute('src', SVG_ICONO_EQUIS)\r\n                }\r\n            }\r\n\r\n            if (containerData.company === CLIENTE_AGN) {\r\n\r\n                var containerMessages = document.querySelector('.chat-opened');\r\n                var button = document.querySelector('.rcw-launcher');\r\n                var buttonImage = document.querySelector('.rcw-launcher img');\r\n                if (containerMessages == null || !containerMessages) {\r\n\r\n                    if (buttonImage) {\r\n                        button.style.padding = \"0px 0px 0px 0px\";\r\n                        buttonImage.style.width = \"62px\"\r\n                        buttonImage.setAttribute('src', \"https://storage.googleapis.com/chat-asesores-3.appspot.com/agn/Rosa_chat_bot_logo-min.png\");\r\n                    }\r\n                } else {\r\n                    buttonImage.removeAttribute(\"width\")\r\n                    buttonImage.style.width = \"20px\"\r\n                    button.style.width = \"48px\";\r\n                    button.style.height = \"48px\";\r\n                    button.style.borderRadius = \"50%\";\r\n                    buttonImage.setAttribute('src', SVG_ICONO_EQUIS)\r\n                }\r\n\r\n\r\n\r\n                var formInicio = document.querySelector('.formInicio');\r\n                if (formInicio) {\r\n\r\n                    var oldIcon = document.querySelector('.MuiSvgIcon-root.icon-title');\r\n\r\n                    if (oldIcon) {\r\n                        const img = document.createElement(\"img\");\r\n                        img.className = \"icon-title\";\r\n                        img.src = SVG_ICONO_EQUIS;\r\n                        img.style.width = \"20px\";\r\n                        img.style.height = \"20px\";\r\n                        img.style.objectFit = \"contain\";\r\n\r\n                        oldIcon.replaceWith(img);\r\n                    }\r\n\r\n                } else {\r\n                    var bottomIcon = document.querySelector('.rcw-launcher');\r\n                    if (bottomIcon) {\r\n                        bottomIcon.style.position = \"relative\";\r\n                        bottomIcon.style.right = \"-23px\";\r\n                    }\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n        $(document).on('click', '.rcw-launcher', (e) => {\r\n\r\n            const $this = $(e.currentTarget);\r\n\r\n            if ($this.hasClass('rcw-hide-sm')) {\r\n\r\n                $('body').addClass('chat-opened');\r\n                const formInicio = document.querySelector('.form-container')\r\n                if (formInicio)\r\n                    formInicio.style.bottom = '20px';\r\n                if (this.state.record) {\r\n                    const soundWave = document.querySelector('.sound-wave')\r\n                    soundWave.style.display = 'block';\r\n                    const rwcSender = document.querySelector('.rcw-send');\r\n                    rwcSender.style.display = 'none'\r\n                    const sendAudio = document.querySelector('.attach-widget-send-audio')\r\n                    if (sendAudio) {\r\n                        sendAudio.style.display = 'block';\r\n                    }\r\n                }\r\n                document.querySelector('.main-wrapper').setAttribute('style', 'z-index: 600!important');\r\n                document.querySelector('.rcw-widget-container').setAttribute('style', '');\r\n            } else {\r\n\r\n                $('body').removeClass('chat-opened');\r\n                const soundWave = document.querySelector('.sound-wave')\r\n                const sendAudio = document.querySelector('.attach-widget-send-audio')\r\n                if (soundWave) {\r\n                    soundWave.style.display = 'none';\r\n                }\r\n                if (sendAudio) {\r\n                    sendAudio.style.display = 'none';\r\n                }\r\n\r\n            }\r\n\r\n        })\r\n\r\n\r\n        if (chatOpened) {\r\n            this.lauchChatWidget();\r\n        }\r\n\r\n        //funcion para evitar que el enter envie el form si este no esta completo\r\n        this.attachFormSubmitListener();\r\n\r\n        //alt y title de imagen title\r\n        // ALT + TITLE + ARIA (accesibilidad)\r\n        const addAccessibility = () => {\r\n            let updated = false;\r\n\r\n            // Logo\r\n            const logo = document.querySelector(\".image-title\");\r\n            if (logo && !logo.hasAttribute(\"alt\")) {\r\n                logo.setAttribute(\"alt\", \"Logo institucional del asistente virtual\");\r\n                logo.setAttribute(\"title\", \"Logo institucional del asistente virtual\");\r\n                updated = true;\r\n            }\r\n\r\n            const avatar = document.querySelector(\".rcw-avatar\");\r\n            if (avatar && !avatar.hasAttribute(\"alt\")) {\r\n                avatar.setAttribute(\"alt\", \"Avatar del asistente virtual\");\r\n                avatar.setAttribute(\"title\", \"Avatar del asistente virtual\");\r\n                updated = true;\r\n            }\r\n\r\n            // Botn de formulario principal (MUI)\r\n            const buttons = document.querySelectorAll(\"button\");\r\n            buttons.forEach((btn) => {\r\n                const label = btn.innerText?.trim().toLowerCase();\r\n                if (label === \"enviar\" && !btn.hasAttribute(\"aria-label\")) {\r\n                    btn.setAttribute(\"aria-label\", \"Enviar formulario para iniciar el chat\");\r\n                    btn.setAttribute(\"title\", \"Enviar formulario para iniciar el chat\");\r\n                    updated = true;\r\n                }\r\n            });\r\n\r\n            // Botn de envo del widget (chat)\r\n            const sendButton = document.querySelector(\".rcw-send\");\r\n            if (sendButton && !sendButton.hasAttribute(\"aria-label\")) {\r\n                sendButton.setAttribute(\"aria-label\", \"Enviar mensaje\");\r\n                sendButton.setAttribute(\"title\", \"Enviar mensaje\");\r\n                updated = true;\r\n            }\r\n\r\n            return updated;\r\n        };\r\n\r\n        // Ejecutar y seguir intentando hasta que todo est accesible\r\n        if (!addAccessibility()) {\r\n            let tries = 0;\r\n            const interval = setInterval(() => {\r\n                tries++;\r\n                if (addAccessibility() || tries > 20) {\r\n                    clearInterval(interval);\r\n                }\r\n            }, 500);\r\n        }\r\n\r\n        const inputs = document.querySelectorAll(\"form[name='chatReduxForm'] input, form[name='chatReduxForm'] select, form[name='chatReduxForm'] textarea\");\r\n        inputs.forEach((input) => {\r\n            input.addEventListener(\"keydown\", (e) => {\r\n                if (e.key === \"Enter\") {\r\n                    e.preventDefault();\r\n                    e.stopPropagation();\r\n\r\n                    input.blur(); // fuerza blur para activar validaciones\r\n\r\n                    setTimeout(() => {\r\n                        if (this.validations(this.props.reduxCompanyForm)) {\r\n                            console.log(\" Formulario vlido (se puede enviar)\");\r\n                            // this.props.startConversation(this.props.reduxCompanyForm);\r\n                        } else {\r\n                            console.warn(\" Faltan campos obligatorios\");\r\n                        }\r\n                    }, 100);\r\n                }\r\n            });\r\n        });\r\n\r\n    }\r\n\r\n    attachFormSubmitListener() {\r\n        const form = document.querySelector(\"form[name='chatReduxForm']\");\r\n        if (!form) return;\r\n\r\n        // Evitar duplicar listeners si el componente se re-renderiza\r\n        if (form.dataset.listenerAttached === \"true\") return;\r\n        form.dataset.listenerAttached = \"true\";\r\n\r\n        form.addEventListener(\"submit\", (e) => {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n\r\n            const { reduxCompanyForm } = this.props;\r\n\r\n            //  Ejecuta la validacin personalizada\r\n            if (this.validations(reduxCompanyForm)) {\r\n                console.log(\" Validacin completa, se puede enviar.\");\r\n                this.props.startConversation(reduxCompanyForm);\r\n            } else {\r\n                console.warn(\" Validacin fallida, formulario incompleto.\");\r\n\r\n                //  Marca los campos invlidos visualmente (opcional)\r\n                const requiredFields = form.querySelectorAll(\"input[required], select[required], textarea[required]\");\r\n                requiredFields.forEach(field => {\r\n                    if (!field.value.trim()) {\r\n                        field.classList.add(\"input-error\");\r\n                        field.setAttribute(\"aria-invalid\", \"true\");\r\n                    } else {\r\n                        field.classList.remove(\"input-error\");\r\n                        field.removeAttribute(\"aria-invalid\");\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    doSubmit = (value) => {\r\n        const { startConversation } = this.props\r\n        if (validateCaptcha(value) === true) {\r\n            //alert('Captcha Matched');\r\n            loadCaptchaEnginge(6);\r\n            this.setState({\r\n                valueCaptcha: \"\",\r\n                captchaValidado: true,\r\n            })\r\n            startConversation({ subject: \"hola\", captcha: true })\r\n        }\r\n        else {\r\n            //alert('Captcha Does Not Match');\r\n            this.setState({\r\n                valueCaptcha: \"\",\r\n                captchaValidado: false,\r\n                errorCaptchaInvalido: true\r\n            })\r\n        }\r\n    };\r\n\r\n    getCustomLauncher = (handleToggle) =>\r\n        <button onClick={handleToggle}>CHAT!</button>\r\n\r\n    addCustomButtonLogo(imagePath) {\r\n        var button = document.querySelector('.rcw-launcher img');\r\n\r\n\r\n        if (button) {\r\n\r\n            button.setAttribute('src', imagePath);\r\n        }\r\n\r\n    }\r\n\r\n\r\n    addCustomHeader(imageSource) {\r\n        setTimeout(() => {\r\n            let chatHeader = document.querySelector('.rcw-header');\r\n            let currentImage = document.querySelector('.chat-image-header');\r\n            let imagePath = imageSource ? imageSource : '';\r\n\r\n\r\n            var image = document.createElement(\"IMG\");\r\n            image.setAttribute('class', 'chat-image-header');\r\n            if (imagePath) {\r\n                image.setAttribute(\"src\", imagePath);\r\n            }\r\n\r\n            if (chatHeader) {\r\n\r\n                if (currentImage !== undefined) {\r\n                    $('.chat-image-header').remove();\r\n                }\r\n                chatHeader.appendChild(image);\r\n            }\r\n        }, 10);\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n\r\n        const { playSound, enableFormClient, containerData, startWidget, startWidgetFlag, flagNewChat,\r\n            conversationData, enviarEncuesta, showCaptcha, iniciaChatAbierto, cambiarEstadoChatAbiertoFalse, company } = this.props;\r\n        const sessionObject = getFromSession('idConversartion');\r\n        const { idConversartion } = sessionObject ? sessionObject : {};\r\n        var containerMessages = document.querySelector('.chat-opened');\r\n        if (document.querySelector('.rcw-launcher')) {\r\n            document.querySelector('.rcw-launcher').title = company.botonTitle ? company.botonTitle : 'Hola En qu puedo ayudarte?';\r\n        }\r\n\r\n        if (iniciaChatAbierto || containerMessages) {\r\n\r\n            var iconSend = document.querySelector('.rcw-send img')\r\n            var button = document.querySelector('.rcw-launcher');\r\n            if (iconSend) {\r\n\r\n                if (containerData.company === CLIENTE_ALCALDIA) {\r\n\r\n                    button.style.width = \"48px\"\r\n                    button.style.height = \"48px\"\r\n                    button.style.backgroundColor = \"#d82200\"\r\n                    iconSend.setAttribute('src', ICONO_SEND_RED);\r\n                } else {\r\n                    iconSend.setAttribute('src', ICONO_SEND_OSCURO);\r\n                }\r\n\r\n                iconSend.setAttribute('title', \"Enviar mensaje\")\r\n            }\r\n            cambiarEstadoChatAbiertoFalse()\r\n\r\n        }\r\n\r\n        let imageSource = false;\r\n        let canvasCaptcha = document.querySelector('#canv');\r\n        let inputMessage = document.querySelector(\".rcw-new-message\");\r\n        let textInput = document.querySelector('.chat-widget-panel');\r\n\r\n        if (this.props.startWidgetFlag && prevProps.startWidgetFlag !== this.props.startWidgetFlag\r\n        ) {\r\n\r\n            let rcWLauncher = document.querySelector('.rcw-launcher');\r\n            if (rcWLauncher) {\r\n                rcWLauncher.style.display = 'flex';\r\n            }\r\n\r\n            $(document).on('click', '.rcw-launcher', (e) => {\r\n                imageSource = this.props.company ? this.props.company.logoNombre : false;\r\n                this.addCustomHeader(imageSource);\r\n                let iconSend = document.querySelector('.rcw-send-icon')\r\n                if (iconSend) {\r\n                    if (containerData.company === CLIENTE_ALCALDIA) {\r\n                        console.log('entroo alcaldia');\r\n                        iconSend.setAttribute('src', ICONO_SEND_RED);\r\n                    } else {\r\n                        iconSend.setAttribute('src', ICONO_SEND_OSCURO);\r\n                    }\r\n                    iconSend.setAttribute('title', \"Enviar mensaje\")\r\n                }\r\n\r\n                if (containerData.company === CLIENTE_ALCALDIA) {\r\n                    var containerMessages = document.querySelector('.chat-opened');\r\n                    var button = document.querySelector('.rcw-launcher');\r\n                    var buttonImage = document.querySelector('.rcw-launcher img');\r\n\r\n                    if (containerMessages == null && !iniciaChatAbierto) {\r\n\r\n                        if (buttonImage) {\r\n                            button.style.padding = \"0px 0px 0px 0px\";\r\n                            buttonImage.style.width = \"73px\";\r\n                            button.style.width = \"70px\"\r\n                            button.style.height = \"70px\"\r\n                            buttonImage.setAttribute('src', \"https://firebasestorage.googleapis.com/v0/b/chat-asesores-3.appspot.com/o/alcaldiaBogota%2FbotonChatico.png?alt=media&token=db90b93a-c780-4ade-a611-20d5b193e97c\");\r\n                            button.style.backgroundColor = \"rgba(0, 0, 0, 0)\"\r\n                        }\r\n                    } else {\r\n                        button.style.backgroundColor = \"#d82200\"\r\n                        buttonImage.removeAttribute(\"width\")\r\n                        buttonImage.style.width = \"20px\"\r\n                        button.style.width = \"48px\"\r\n                        button.style.height = \"48px\"\r\n                        buttonImage.setAttribute('src', SVG_ICONO_EQUIS)\r\n\r\n                    }\r\n                }\r\n\r\n                if (containerData.company === CLIENTE_IDEAM) {\r\n                    const containerMessages = document.querySelector('.chat-opened');\r\n                    const button = document.querySelector('.rcw-launcher');\r\n                    const buttonImage = document.querySelector('.rcw-launcher img');\r\n\r\n                    if (button && buttonImage) {\r\n                        if (containerMessages == null && !iniciaChatAbierto) {\r\n                            //  Estado: chat cerrado  GIF grande centrado\r\n                            button.style.width = \"100px\";\r\n                            button.style.height = \"80px\";\r\n                            button.style.background = \"transparent\";\r\n                            button.style.border = \"none\";\r\n                            button.style.display = \"grid\";\r\n                            button.style.alignItems = \"center\";\r\n                            button.style.justifyContent = \"center\";\r\n                            button.style.padding = \"0\";\r\n                            button.style.boxShadow = \"none\";\r\n\r\n                            buttonImage.setAttribute(\r\n                                \"src\",\r\n                                \"https://storage.googleapis.com/chat-asesores-3.appspot.com/ideam/gaiaInicioBot2.png\"\r\n                            );\r\n                            buttonImage.setAttribute(\"alt\", \"Logo Gaia IDEAM\");\r\n                            buttonImage.setAttribute(\"title\", \"Asistente virtual IDEAM\");\r\n\r\n                            buttonImage.style.width = \"100px\";      // Tamao del GIF\r\n                            buttonImage.style.height = \"100px\";\r\n                            buttonImage.style.objectFit = \"cover\";\r\n                            buttonImage.style.margin = \"-11px 12px\";\r\n                            buttonImage.style.display = \"block\";\r\n                        } else {\r\n                            //  Estado: chat abierto  botn normal rojo con cono X\r\n                            button.style.background = \"rgb(1,161,223) linear-gradient(0deg, rgba(0,198,155,1) 10%, rgba(0,144,255,1) 100%)\";\r\n                            button.style.display = \"flex\";\r\n                            button.style.alignItems = \"center\";\r\n                            button.style.justifyContent = \"center\";\r\n                            button.style.width = \"48px\";\r\n                            button.style.height = \"48px\";\r\n                            button.style.borderRadius = \"50%\";\r\n\r\n                            buttonImage.removeAttribute(\"width\");\r\n                            buttonImage.style.width = \"20px\";\r\n                            buttonImage.style.height = \"20px\";\r\n                            buttonImage.style.objectFit = \"contain\";\r\n                            buttonImage.setAttribute(\"src\", SVG_ICONO_EQUIS);\r\n                            buttonImage.setAttribute(\"alt\", \"Cerrar asistente virtual\");\r\n                            buttonImage.setAttribute(\"title\", \"Cerrar asistente virtual\");\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (containerData.company === CLIENTE_AGN) {\r\n                    const containerMessages = document.querySelector('.chat-opened');\r\n                    const button = document.querySelector('.rcw-launcher');\r\n                    const buttonImage = document.querySelector('.rcw-launcher img');\r\n                    const launcher = document.querySelector('.active');\r\n                    console.log(launcher)\r\n\r\n                    if (button && buttonImage) {\r\n                        if (containerMessages == null && !iniciaChatAbierto) {\r\n                            //  Estado: chat cerrado  GIF grande centrado\r\n                            button.style.width = \"100px\";\r\n                            button.style.height = \"80px\";\r\n                            button.style.background = \"transparent\";\r\n                            button.style.border = \"none\";\r\n                            // button.style.display = \"grid\";\r\n                            button.style.alignItems = \"center\";\r\n                            button.style.justifyContent = \"center\";\r\n                            button.style.padding = \"0\";\r\n                            button.style.boxShadow = \"none\";\r\n\r\n                            buttonImage.setAttribute(\r\n                                \"src\",\r\n                                \"https://storage.googleapis.com/chat-asesores-3.appspot.com/agn/Rosa_chat_bot_logo-min.png\"\r\n                            );\r\n                            buttonImage.setAttribute(\"alt\", \"Logo AGN\");\r\n                            buttonImage.setAttribute(\"title\", \"Asistente virtual AGN\");\r\n\r\n                            buttonImage.style.width = \"100px\";      // Tamao del GIF\r\n                            buttonImage.style.height = \"100px\";\r\n                            buttonImage.style.objectFit = \"cover\";\r\n                            buttonImage.style.margin = \"-11px 12px\";\r\n                            buttonImage.style.display = \"block\";\r\n                        } else {\r\n                            //  Estado: chat abierto  botn normal rojo con cono X\r\n                            button.style.background = \"rgb(1,161,223) linear-gradient(0deg, rgba(0,198,155,1) 10%, rgba(0,144,255,1) 100%)\";\r\n                            button.style.display = \"flex\";\r\n                            // button.removeAttribute(\"position\");\r\n                            // button.removeAttribute(\"rigth\");\r\n                            // if (launcher) {\r\n                            //     console.log(launcher, \"ll\")\r\n                            //     button.style.position = \"absolute\";\r\n                            //     button.style.rigth = \"12px\";\r\n                            // }\r\n                            button.style.alignItems = \"center\";\r\n                            button.style.justifyContent = \"center\";\r\n                            button.style.width = \"48px\";\r\n                            button.style.height = \"48px\";\r\n                            button.style.borderRadius = \"50%\";\r\n\r\n                            buttonImage.removeAttribute(\"width\");\r\n                            buttonImage.style.width = \"20px\";\r\n                            buttonImage.style.height = \"20px\";\r\n                            buttonImage.style.objectFit = \"contain\";\r\n                            buttonImage.setAttribute(\"src\", SVG_ICONO_EQUIS);\r\n                            buttonImage.setAttribute(\"alt\", \"Cerrar asistente virtual\");\r\n                            buttonImage.setAttribute(\"title\", \"Cerrar asistente virtual\");\r\n                        }\r\n                    }\r\n\r\n                    var formInicio = document.querySelector('.formInicio');\r\n                    if (formInicio) {\r\n\r\n                        var oldIcon = document.querySelector('.MuiSvgIcon-root.icon-title');\r\n\r\n                        if (oldIcon) {\r\n                            const img = document.createElement(\"img\");\r\n                            img.className = \"icon-title\";\r\n                            img.src = SVG_ICONO_EQUIS;\r\n                            img.style.width = \"20px\";\r\n                            img.style.height = \"20px\";\r\n                            img.style.objectFit = \"contain\";\r\n\r\n                            oldIcon.replaceWith(img);\r\n                        }\r\n\r\n                    } else {\r\n                        var bottomIcon = document.querySelector('.rcw-launcher');\r\n                        if (bottomIcon) {\r\n                            bottomIcon.style.position = \"relative\";\r\n                            bottomIcon.style.right = \"-23px\";\r\n                        }\r\n                    }\r\n\r\n                }\r\n\r\n\r\n            });\r\n        }\r\n\r\n        if (showCaptcha && prevProps.showCaptcha !== showCaptcha && conversationData === false) {\r\n            if (canvasCaptcha) {\r\n                loadCaptchaEnginge(6, 'red', 'white');\r\n            }\r\n        }\r\n\r\n        if (conversationData) {\r\n            if (inputMessage) {\r\n                inputMessage.removeAttribute('disabled');\r\n            }\r\n        }\r\n\r\n        if (prevProps.conversationData?.estado === 10 && !conversationData) {\r\n            if (canvasCaptcha) {\r\n                loadCaptchaEnginge(6)\r\n            }\r\n        }\r\n        if (this.props.creandoConversacion && prevProps.creandoConversacion !== this.props.creandoConversacion) {\r\n            this.setState({\r\n                captchaValidado: false\r\n            })\r\n        }\r\n        if (enableFormClient && idConversartion) {\r\n            if (textInput) {\r\n                document.querySelector('.chat-widget-panel').classList.remove('container-disabled');\r\n            }\r\n        } else if (!enableFormClient && !idConversartion || !enableFormClient && idConversartion) {\r\n            if (textInput) {\r\n                document.querySelector('.chat-widget-panel').classList.remove('container-disabled');\r\n\r\n            }\r\n\r\n        }\r\n        if (flagNewChat) {\r\n            let container = document.querySelector('.rcw-widget-container')\r\n            if (container) {\r\n                container.setAttribute('style', 'width: 100%!important');\r\n            }\r\n        }\r\n        if (conversationData && conversationData.agente && conversationData.agente.nombres === \"Chatbot\" && conversationData.estado === 10) {\r\n            enviarEncuesta(false)\r\n        }\r\n        if (!startWidgetFlag) {\r\n            this.openNewChat();\r\n            startWidget(containerData);\r\n            imageSource = this.props.company ? this.props.company.logoNombre : false;\r\n            this.addCustomHeader(imageSource);\r\n        }\r\n        if (playSound) {\r\n            const audioEl = document.getElementById(\"audio-element\");\r\n            audioEl.play();\r\n        }\r\n\r\n\r\n        this.attachFormSubmitListener();\r\n        // this.addCustomButtonLogo(this.props.company.avatar);\r\n\r\n        //  Asegurar que el formulario de inicio siempre se muestre si no hay conversacin activa\r\n\r\n        const chatContainer = document.querySelector('.rcw-widget-container');\r\n        const chatClosed = chatContainer?.classList.contains('chat-closed');\r\n        const formInicio = document.querySelector('.form-container.formInicio');\r\n\r\n        // Mostrar el formulario solo si el chat est ABIERTO y no hay conversacin activa\r\n        if (!idConversartion && !chatClosed && formInicio) {\r\n            formInicio.style.display = 'flex';\r\n            formInicio.style.visibility = 'visible';\r\n        }\r\n        // Ocultar el formulario si el chat est cerrado\r\n        else if (chatClosed && formInicio) {\r\n            formInicio.style.display = 'none';\r\n        }\r\n    }\r\n\r\n    showConversation() {\r\n\r\n        const { showCaptcha, conversationData, enableFormClient, clientFormConf } = this.props\r\n        let inputMessage = document.querySelector(\".rcw-new-message\");\r\n        if (document.querySelector('.form-container')) {\r\n            document.querySelector('.form-container').style.display = 'flex';\r\n        }\r\n\r\n        if (!conversationData && (enableFormClient || showCaptcha || clientFormConf)) {\r\n            if (inputMessage) {\r\n                //console.log('show conversation, inactivate input messages');\r\n                inputMessage.setAttribute('disabled', true)\r\n            }\r\n        }\r\n\r\n        const chatContainer = document.querySelector('.rcw-widget-container');\r\n        chatContainer.classList.remove('chat-closed');\r\n    }\r\n\r\n    hideConversation() {\r\n\r\n        let rcwHideButton = document.querySelector('.rcw-launcher.rcw-hide-sm');\r\n        let rcwContainer = document.querySelector('.form-container');\r\n\r\n        if (rcwHideButton) {\r\n            rcwHideButton.click();\r\n        }\r\n\r\n        if (rcwContainer) {\r\n            rcwContainer.style.display = 'none';\r\n        }\r\n        const chatContainer = document.querySelector('.rcw-widget-container');\r\n        chatContainer.classList.add('chat-closed');\r\n    }\r\n\r\n    openNewChat() {\r\n        if (document.querySelector('.form-container')) {\r\n            document.querySelector('.form-container').style.display = 'flex';\r\n        }\r\n\r\n    }\r\n\r\n    onFileUpload = (e) => {\r\n        const { handlerFileMessage } = this.props\r\n        console.log(\"e targe\", e);\r\n        handlerFileMessage(e)\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        const {\r\n            sendResponse,\r\n            updateAttributes,\r\n            message,\r\n            selectedCompanyForm, startConversation,\r\n            conversationData,\r\n            enviarEncuesta,\r\n            company, horario,\r\n            reduxCompanyForm,\r\n            encuestaConf,\r\n            clientFormConf,\r\n            enableFormClient,\r\n            startWidgetFlag,\r\n            handlerFileMessage,\r\n            uploading,\r\n            creandoConversacion,\r\n            showCaptcha,\r\n            sendingFlow,\r\n            startWidget,\r\n            containerData\r\n        } = this.props;\r\n\r\n        const mostrarChat = (startWidgetFlag && !enableFormClient);\r\n        const handleNewUserMessage = (newMessage) => {\r\n\r\n            sendResponse({ newMessage, conversationData });\r\n        };\r\n\r\n        function sortObjectByKeys(o) {\r\n            return Object.keys(o).sort().reduce((r, k) => (r[k] = o[k], r), {});\r\n        }\r\n\r\n        let parametrosEncuesta = (encuestaConf) => {\r\n            let form = [];\r\n            if (encuestaConf) {\r\n                let ordenado = sortObjectByKeys(encuestaConf)\r\n                for (let pregunta in ordenado) {\r\n                    let jsonBase = {\r\n                        label: ordenado[pregunta].nombre,\r\n                        name: ordenado[pregunta].nombreCorto,\r\n                        placeholder: \"\",\r\n                        hint: \"\",\r\n                        type: ordenado[pregunta].type,\r\n                        typeForm: ordenado[pregunta].type,\r\n                        value: false,\r\n                        options: [],\r\n                        disable: false,\r\n                    }\r\n\r\n                    if (ordenado[pregunta].type === 'ratingStars') {\r\n                        jsonBase['cancel'] = false\r\n                        jsonBase['className'] = \"rs-100 fixed-margin\"\r\n                        jsonBase['stars'] = 5\r\n\r\n                        form.push(jsonBase)\r\n                    } else {\r\n                        jsonBase['options'] = ordenado[pregunta].opcionesRespuesta;\r\n                        jsonBase['className'] = \"rs-100\"\r\n                        form.push(jsonBase)\r\n                    }\r\n                }\r\n            }\r\n            return form;\r\n        }\r\n\r\n        let parametrosFormCliente = (formClienteConf) => {\r\n            let form = [];\r\n            if (clientFormConf) {\r\n                let ordenado = sortObjectByKeys(formClienteConf);\r\n                for (let pregunta in ordenado) {\r\n                    let jsonBase = {\r\n                        label: ordenado[pregunta].nombre,\r\n                        name: ordenado[pregunta].nombreCorto,\r\n                        placeholder: \"\",\r\n                        hint: \"\",\r\n                        type: ordenado[pregunta].type,\r\n                        typeForm: ordenado[pregunta].type,\r\n                        value: false,\r\n                        options: [],\r\n                        disable: false,\r\n                    }\r\n\r\n                    if (ordenado[pregunta].type === 'select') {\r\n                        jsonBase['options'] = ordenado[pregunta].opcionesRespuesta;\r\n                        jsonBase['className'] = \"rs-100\"\r\n                        form.push(jsonBase);\r\n\r\n                    } else if (ordenado[pregunta].type === 'radio') {\r\n                        jsonBase['options'] = ordenado[pregunta].opcionesRespuesta;\r\n                        jsonBase['className'] = \"rs-100 radio radioTerms\"\r\n                        form.push(jsonBase);\r\n                    } else {\r\n                        jsonBase['className'] = \"rs-100\"\r\n                        form.push(jsonBase);\r\n                    }\r\n                }\r\n            } else {\r\n                form = false;\r\n            }\r\n            return form;\r\n\r\n        }\r\n\r\n        const sessionObject = getFromSession('idConversartion');\r\n        const { idConversartion } = sessionObject ? sessionObject : {};\r\n        let subtitle = `${horario ? horario.textoHorario : ''}`;\r\n        let estadoConv = conversationData && conversationData.estado ? conversationData.estado : null;\r\n\r\n        if (idConversartion === undefined) {\r\n            estadoConv = false;\r\n        }\r\n\r\n\r\n        if (estadoConv === 11) {\r\n            //dropMessages();\r\n            removeItems('clienteData');\r\n            removeItems('idConversartion');\r\n            startWidget(containerData);\r\n        }\r\n\r\n\r\n\r\n\r\n        let spinner = <div></div>\r\n\r\n        this.addCustomHeader(company.logoNombre);\r\n\r\n        return (\r\n            <div className={`chat-demo-wrapper chatico-${company.cuenta}`}>\r\n                <Beforeunload onBeforeunload={(event) => { this.cerrar(); }} />\r\n                {!idConversartion ?\r\n                    <div>\r\n                        {enableFormClient && clientFormConf ?\r\n                            <div className=\"form-container formInicio\" id=\"formInicio\" >\r\n                                {creandoConversacion ? (spinner) :\r\n                                    <React.Fragment>\r\n                                        <CustomReduxForm\r\n                                            formName=\"chatReduxForm\"\r\n                                            customHeader={company.logo}\r\n                                            formTitle={company.nombre}\r\n                                            formSubTitle={subtitle}\r\n                                            items={parametrosFormCliente(clientFormConf)}\r\n                                            className=\"conversation\"\r\n                                            card={false}\r\n                                            handleSubmit={(values) => {\r\n                                                if (this.validations(values)) {\r\n                                                    console.log(\"pasa validaciones\")\r\n                                                    startConversation(reduxCompanyForm);\r\n                                                } else {\r\n                                                    console.log(\"no pasa \")\r\n                                                    // opcional: marcar errores\r\n                                                }\r\n                                            }}\r\n                                            validations={this.validations}\r\n                                            buttons={\r\n                                                horario && horario.valido\r\n                                                    ? getLoginButton(() => startConversation(reduxCompanyForm))\r\n                                                    : []\r\n                                            }\r\n                                        />\r\n                                        {/* <CustomReduxForm\r\n                                            formName=\"chatReduxForm\"\r\n                                            customHeader={company.logo}\r\n                                            formTitle={company.nombre}\r\n                                            formSubTitle={subtitle}\r\n                                            items={parametrosFormCliente(clientFormConf)}\r\n                                            className=\"conversation\"\r\n                                            card={false}\r\n                                            handleSubmit={() => startConversation(reduxCompanyForm)}\r\n                                            validations={this.validations}\r\n                                            buttons={horario && horario.valido ? getLoginButton(() => startConversation(reduxCompanyForm)) : []}\r\n                                        /> */}\r\n                                        {horario && !horario.valido ?\r\n                                            <FormControlLabel value=\"worst\" label=\"Estimado usuario, se encuentra fuera de horario para ser atendido.\" /> : ''}\r\n\r\n                                    </React.Fragment>\r\n\r\n                                }\r\n\r\n                                {!creandoConversacion &&\r\n                                    <React.Fragment>\r\n                                        <div className=\"fake-field\"></div>\r\n                                        <div className=\"fake-button close\">\r\n                                            <button className=\"rcw-close-button rcw-fake-close-button\">\r\n                                                <img src={SVG_ICONO_EQUIS} className=\"rcw-close\" alt=\"close\" />\r\n                                            </button>\r\n                                        </div>\r\n                                    </React.Fragment>}\r\n                            </div>\r\n                            : (showCaptcha &&\r\n                                <div className=\"form-container formInicio formCaptcha\" id=\"formInicio\" >\r\n                                    {creandoConversacion ? (spinner) :\r\n                                        <CustomCaptcha\r\n                                            state={this.state}\r\n                                            subtitle='Para comprobar que es un humano escriba los caracteres que ve en el siguiente recuadro para poder\r\n                                            continuar al chat.'\r\n                                            logo={company.logo}\r\n                                            reloadText=\"Cambiar caracteres\"\r\n                                            doSubmit={this.doSubmit}\r\n                                            setState={this.setState}\r\n                                            renderThis={this}\r\n                                            svgIconX={SVG_ICONO_EQUIS}\r\n                                            placeholder='Escriba el valor del captcha'\r\n                                        />\r\n                                    }\r\n                                </div>\r\n                            )\r\n                        }\r\n                    </div>\r\n                    : false\r\n                }\r\n\r\n\r\n                {\r\n                    conversationData && conversationData.agente && conversationData.agente.nombres !== \"Chatbot\" && estadoConv && estadoConv === 10 && encuestaConf ? (\r\n                        <div className=\"form-container zindex2000 encuestaStyles\">\r\n                            <CustomForm\r\n                                formName=\"conversationForm\"\r\n                                items={parametrosEncuesta(encuestaConf)}\r\n                                formTitle=\"Encuesta de Satisfaccin\"\r\n                                customHeader={company.logo}\r\n                                formSubtitle=\"La conversacin ha finalizado, aydanos a mejorar calificando el servicio prestado.\"\r\n                                values={selectedCompanyForm}\r\n                                submitted={message}\r\n                                updateAction={updateAttributes}\r\n                                buttons={getEncuestaButton(() => enviarEncuesta(selectedCompanyForm))}\r\n                                className=\"conversation scroll\"\r\n                            >\r\n                            </CustomForm>\r\n                        </div>\r\n                    ) : null\r\n                }\r\n\r\n                {\r\n                    (mostrarChat && estadoConv === undefined || !estadoConv || estadoConv !== 10) &&\r\n                    <div className={`chat-widget-panel container-disabled ${sendingFlow ? 'df-sending-msg' : ''}`}>\r\n                        {sendingFlow && <CustomSpinner\r\n                            text={false}\r\n                            className='dfSpinnerContainer'\r\n                            spinnerClassName='dialogFlowSpinner'\r\n                            color='secondary'\r\n                            textClassName='p-text-normal df-cargando'\r\n                            id='dialogFlowSpinner'\r\n                            type='linear'\r\n                        />\r\n                        }\r\n\r\n                        {/* <Widget\r\n                            title={company.nombre}\r\n                            subtitle=''\r\n                            className={`chat-widget-container`}\r\n                            senderPlaceHolder='En qu te puedo ayudar?'\r\n                            handleNewUserMessage={!idConversartion ? startConversation : handleNewUserMessage}\r\n                            profileAvatar={company.avatar}\r\n                            toggleInputDisabled={false}\r\n                            titleAvatar={company.logoNombre}\r\n                            toggleWidget={true}\r\n                                >\r\n                        </Widget> */}\r\n                        <AccessibleChatWidget\r\n                            company={company}\r\n                            idConversartion={idConversartion}\r\n                            startConversation={startConversation}\r\n                            handleNewUserMessage={handleNewUserMessage}\r\n                        />\r\n\r\n                        {uploading ?\r\n\r\n                            <div >\r\n\r\n                            </div>\r\n\r\n                            :\r\n                            <div className=\"iconsContainer\">\r\n                                {idConversartion ? <div className=\"iconoMicrofono\">\r\n                                    <ReactMic\r\n                                        record={this.state.record}\r\n                                        className=\"sound-wave \"\r\n                                        onStop={this.onStop}\r\n                                        onData={this.onData}\r\n                                        strokeColor=\"#FFFFFF\"\r\n                                        backgroundColor=\"#DC143C\"\r\n                                        channelCount={1}\r\n                                        mimeType=\"audio/wav; codecs=MS_PCM\" />\r\n                                    <IconButton\r\n                                        className=\"attach-widget-microphone\"\r\n                                        onClick={this.startRecording}\r\n                                        title=\"Grabar voz\"\r\n                                    >\r\n                                        <Mic style={{ height: '1.3em', width: '2em' }} />\r\n                                    </IconButton>\r\n                                    <IconButton\r\n                                        className=\"attach-widget-send-audio\"\r\n                                        onClick={this.stopRecording}\r\n                                        title=\"Parar y enviar audio\"\r\n                                    >\r\n                                        <SendRounded />\r\n                                    </IconButton>\r\n\r\n                                </div> : false\r\n                                }\r\n\r\n                                {idConversartion ? <div className=\"iconoAdjuntar\">\r\n                                    <InputFiles accept=\"*\" onChange={this.onFileUpload}>\r\n                                        <IconButton className='attach-widget-file' title=\"Adjuntar archivo\" aria-label=\"adjuntar\" >\r\n\r\n                                            <AddIcon />\r\n                                        </IconButton>\r\n                                    </InputFiles>\r\n\r\n                                </div> : false}\r\n                            </div>\r\n                        }\r\n                    </div>\r\n                }\r\n                <audio id=\"audio-element\" >\r\n                    <source src={beep}></source>\r\n                </audio>\r\n            </div>\r\n\r\n\r\n\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        responseMessage: getResponseMessage(state),\r\n        idConversartionState: getIdConversation(state),\r\n        reduxCompanyForm: getReduxCompanyForm(state),\r\n        selectedCompanyForm: getSelectedCompanyForm(state),\r\n        esperandoConv: esperandoConv(state),\r\n        conversationData: getConversationData(state),\r\n        flagNewChat: getNewChat(state),\r\n        creandoConversacion: creandoConversacion(state),\r\n        company: getCompany(state), companyId: getCompanyId(state),\r\n        horario: getHorario(state),\r\n        playSound: getPlaySound(state),\r\n        encuestaConf: getInfoEncuesta(state),\r\n        clientFormConf: getInfoFormClient(state),\r\n        enableFormClient: enableFormClient(state),\r\n        uploading: getUploading(state),\r\n        startWidgetFlag: getStartWidget(state),\r\n        showCaptcha: isEnabledCaptchaValidation(state),\r\n        sendingFlow: sendingFlow(state),\r\n        iniciaChatAbierto: iniciaChatAbierto(state),\r\n        chatOpened: chatOpened(state),\r\n        typeWriterWeb: getTypeWriterWeb(state),\r\n    };\r\n};\r\n\r\nconst mapDispachToProps = dispatch => {\r\n    return {\r\n        updateAttributes: (value) => dispatch({ type: UPDATE_FIELD_ATTRIBUTE, value }),\r\n        sendResponse: (value) => dispatch({ type: SEND_RESPONSE, value }),\r\n        listenerResponse: (value) => dispatch({ type: LISTENER_RESPONSE, value }),\r\n        textResponse: (value) => dispatch({ type: TEXT_RESPONSE, value }),\r\n        startConversation: (value) => dispatch({ type: START_CONVERSATION, value }),\r\n        loadConversation: (value) => dispatch({ type: LOAD_CONVERSATION, value }),\r\n        listenerConversationInfo: (value) => dispatch({ type: LISTENER_RESPONSE, value }),\r\n        enviarEncuesta: (value) => dispatch({ type: FORM_ENCUESTA, value }),\r\n        startWidget: (value) => dispatch({ type: START_WIDGET, value }),\r\n        traerPreguntasEncuesta: (value) => dispatch({ type: ENCUESTA_CONF, value }),\r\n        mostrarWidget: (value) => dispatch({ type: SHOW_WIDGET, value }),\r\n        handlerFileMessage: (value) => dispatch({ type: HANDLER_FILE_MESSAGE, value }),\r\n        cambiarEstadoChatAbiertoTrue: (value) => dispatch({ type: INICIAR_CHAT_ABIERTO, value }),\r\n        cambiarEstadoChatAbiertoFalse: (value) => dispatch({ type: CAMBIAR_ESTADO_CHAT_ABIERTO, value }),\r\n        consultaTypeWriter: (value) => dispatch({ type: CONSULTA_TYPE_WRITER_WEB, value }),\r\n    };\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispachToProps\r\n)(ComponentAuth);","import {\r\n  SEND_RESPONSE,\r\n  START_CONVERSATION_SUCCESS,\r\n  UPDATE_FIELD_ATTRIBUTE,\r\n  LISTENER_RESPONSE_SUCCESS,\r\n  FORM_ENCUESTA_SUCCESS,\r\n  START_CONVERSATION,\r\n  FORM_ENCUESTA,\r\n  START_WIDGET_SUCCES,\r\n  PLAY_SOUND,\r\n  ENCUESTA_CONF_SUCCESS,\r\n  CHANGE_FLAG_WIDGET,\r\n  HANDLER_FILE_MESSAGE,\r\n  HANDLER_FILE_MESSAGE_SUCCESS,\r\n  SHOW_WIDGET,\r\n  SENDING_MSG_DF,\r\n  INICIAR_CHAT_ABIERTO,\r\n  CAMBIAR_ESTADO_CHAT_ABIERTO,\r\n  TYPE_WRITER_WIDGET_WEB_SUCCESS,\r\n\r\n} from './constants';\r\n\r\nexport const initialState = {\r\n  responseMessage: false,\r\n  idConversation: false,\r\n  selectedCompanyForm: {},\r\n  esperandoConv: false,\r\n  dataConversation: false,\r\n  flagNewChat: false,\r\n  startWidget: false,\r\n  company: false,\r\n  company_id: false,\r\n  horario: false,\r\n  playSound: false,\r\n  infoEncuesta: false,\r\n  infoFormClient: false,\r\n  enableFormClient: false,\r\n  showWidget: false,\r\n  typeWriterWeb: false,\r\n  uploading: false,\r\n  botEnabled: false,\r\n  creandoConversacion: false,\r\n  isEnabledCaptchaValidation: false,\r\n  sendingFlow: false,\r\n  iniciaChatAbierto: false\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  const newState = { ...state };\r\n  const { payload, type, value } = action;\r\n\r\n  newState.esperandoConv = true;\r\n  newState.playSound = false;\r\n  let newFormCompanyObject = { ...newState.selectedCompanyForm };\r\n\r\n  switch (type) {\r\n    case UPDATE_FIELD_ATTRIBUTE:\r\n      const { fieldName, fieldValue } = value;\r\n      newFormCompanyObject[fieldName] = fieldValue;\r\n      newState.selectedCompanyForm = newFormCompanyObject;\r\n      // newState.startWidget = false;\r\n\r\n      return {\r\n        ...newState\r\n      };\r\n\r\n    case SEND_RESPONSE:\r\n\r\n      return {\r\n        ...newState\r\n      };\r\n\r\n    case START_CONVERSATION:\r\n      newState.dataConversation = false;\r\n      newState.idConversation = false;\r\n      newState.creandoConversacion = true;\r\n\r\n\r\n      return {\r\n        ...newState\r\n      }\r\n\r\n    case START_CONVERSATION_SUCCESS:\r\n      /* console.log('constants.action', action); */\r\n      newState.esperandoConv = false;\r\n      newState.idConversation = payload.conversationId;\r\n      newState.selectedCompanyForm = {};\r\n      newState.creandoConversacion = false;\r\n\r\n\r\n      return {\r\n        ...newState\r\n      }\r\n    case LISTENER_RESPONSE_SUCCESS:\r\n      newState.dataConversation = payload;\r\n\r\n      return {\r\n        ...newState\r\n      }\r\n\r\n    case PLAY_SOUND:\r\n      newState.playSound = payload.play;\r\n\r\n      return {\r\n        ...newState\r\n      }\r\n\r\n    case INICIAR_CHAT_ABIERTO:\r\n\r\n      newState.iniciaChatAbierto = true;\r\n      return {\r\n        ...newState\r\n      }\r\n\r\n    case CAMBIAR_ESTADO_CHAT_ABIERTO:\r\n      newState.iniciaChatAbierto = false;\r\n\r\n      return {\r\n        ...newState\r\n      }\r\n\r\n    case FORM_ENCUESTA_SUCCESS:\r\n      newState.esperandoConv = payload.esperandoNuevaConv;\r\n      newState.idConversation = payload.idConv;\r\n      newState.dataConversation = payload.convData;\r\n      newState.flagNewChat = payload.flag;\r\n      newState.startWidget = false;\r\n\r\n      return {\r\n        ...newState\r\n      }\r\n    case ENCUESTA_CONF_SUCCESS:\r\n\r\n      newState.infoEncuesta = payload;\r\n\r\n\r\n      return {\r\n        ...newState\r\n      }\r\n\r\n\r\n    case HANDLER_FILE_MESSAGE:\r\n      newState.uploading = true;\r\n\r\n      return {\r\n        ...newState\r\n      }\r\n\r\n    case HANDLER_FILE_MESSAGE_SUCCESS:\r\n      newState.uploading = false;\r\n      newState.sendingFlow = false;\r\n\r\n      return {\r\n        ...newState\r\n      }\r\n\r\n    case FORM_ENCUESTA:\r\n\r\n      return {\r\n        ...newState\r\n      }\r\n\r\n    case START_WIDGET_SUCCES:\r\n      newState.company = payload.company;\r\n      newState.horario = payload.horario;\r\n      newState.company_id = payload.company_id;\r\n      newState.infoFormClient = payload.formularioInicial;\r\n      newState.infoEncuesta = payload.encuestaConf;\r\n      newState.enableFormClient = payload.isEnabledClientForm;\r\n      newState.botEnabled = payload.botEnabled;\r\n      newState.startWidget = true;\r\n      newState.isEnabledCaptchaValidation = payload.isEnabledCaptchaValidation;\r\n      newState.chatOpened = payload.chatOpened;\r\n\r\n      return {\r\n        ...newState\r\n      }\r\n\r\n    case SHOW_WIDGET:\r\n      newState.showWidget = true;\r\n      return {\r\n        ...newState\r\n      }\r\n\r\n    case CHANGE_FLAG_WIDGET:\r\n      newState.showWidget = false;\r\n      return {\r\n        ...newState\r\n      }\r\n\r\n    case TYPE_WRITER_WIDGET_WEB_SUCCESS:\r\n      newState.typeWriterWeb = payload;\r\n      console.log(newState.typeWriterWeb, action)\r\n      return {\r\n        ...newState\r\n      }\r\n\r\n    case SENDING_MSG_DF:\r\n      newState.sendingFlow = true;\r\n      return {\r\n        ...newState\r\n      }\r\n\r\n    default:\r\n      return {\r\n        ...newState\r\n      };\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import React, { Component } from 'react';\r\nimport ReactWebMediaPlayer from 'react-web-media-player';\r\n\r\nexport default class CustomVideoPlayer extends Component {\r\n    render() {\r\n        const {className, video, title} = this.props;\r\n        return (\r\n            <div className={className}>\r\n                <ReactWebMediaPlayer\r\n                    title={title}\r\n                    video={video}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport { SEND_RESPONSE, START_CONVERSATION } from './constants';\r\nimport { Image } from 'react-bootstrap';\r\n/* import 'primereact/resources/primereact.css'; */\r\n\r\n/* import { Panel } from 'primereact/panel'; */\r\n/* import { Ripple } from 'primereact/ripple'; */\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\nimport Typography from '@mui/material/Typography';\r\nimport { getFromSession } from '../../controller/session';\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport Grid from '@mui/material/Grid';\r\n\r\n\r\nclass ReplyComponent extends Component {\r\n\r\n\r\n    renderSimpleReply = (options, title, subtitle, className, actionConv) => {\r\n        return (\r\n\r\n            <div className={`reply-wrapper ${className}`}>\r\n\r\n                <div className=\"caption\">\r\n                    <p className=\"caption-title\">{title}</p>\r\n                    <span className=\"caption-subtitle\">{subtitle}</span>\r\n                </div>\r\n                <div className=\"options\">  {\r\n                    options.map((optionItem, i) => {\r\n                        const actionResponse = {\r\n                            newMessage: '',\r\n                            conversationData: {\r\n                                agente: {\r\n                                    nombres: 'Chatbot'\r\n                                }\r\n                            },\r\n                            reply: true\r\n                        }\r\n                        /*  console.log('actionResponse', actionResponse); */\r\n                        actionResponse.newMessage = optionItem.value;\r\n                        return <div aria-label=\"Realizar accin\" title=\"Realizar accin\" key={i} onClick={() => actionConv(actionResponse)} className={`option-item ${optionItem.value}`}>{optionItem.label}</div>\r\n                    })\r\n                } </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n    renderListReply = (items, title, subtitle, className, actionConv, image) => {\r\n\r\n\r\n\r\n        return (\r\n\r\n            <Accordion className='panelReply'>\r\n                <AccordionSummary\r\n                    expandIcon={<ExpandMoreIcon />}\r\n                    aria-controls=\"panel1a-content\"\r\n                    id=\"panel1a-header\"\r\n                    sx={{\r\n                        '& .MuiAccordionSummary-content': {\r\n                            marginTop: \"10px\",\r\n                            marginBottom: \"5px\"\r\n                        },\r\n                        '& .MuiAccordionSummary-content.Mui-expanded': {\r\n                            marginTop: \"10px\",\r\n                            marginBottom: \"5px\"\r\n                        }\r\n                    }}\r\n                >\r\n                    <div >\r\n                        <div className=\"titleSubtitle\">\r\n                            <Grid>\r\n                                <span style={{ \"fontWeight\": \"600\" }} className='title'>\r\n                                    {title}\r\n                                </span>\r\n\r\n                            </Grid>\r\n                            <Grid>\r\n                                <span className='subtitle'>\r\n                                    {subtitle}\r\n                                </span>\r\n                            </Grid>\r\n\r\n                        </div>\r\n\r\n                    </div>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                    <div className={`list-container ${className}`}>\r\n                        <div className=\"list-items-wrapper\">  {\r\n                            items.map((item, i) => {\r\n                                return (\r\n                                    <div key={i} className=\"options grid\">  {\r\n                                        item.options.map((optionItem, j) => {\r\n                                            const actionResponse = {\r\n                                                newMessage: '',\r\n                                                conversationData: {\r\n                                                    agente: {\r\n                                                        nombres: 'Chatbot'\r\n                                                    }\r\n                                                },\r\n                                                reply: true\r\n                                            }\r\n                                            actionResponse.newMessage = optionItem.postbackText;\r\n                                            return (\r\n                                                <div key={j} className=\"list-item col-6\">\r\n\r\n                                                    <div className=\"left-item \">\r\n                                                        <div className=\"item-title\">{optionItem.title}</div>\r\n                                                        <div className=\"item-subtitle\">{optionItem.description}</div>\r\n                                                        <div aria-label=\"Realizar accin\" title=\"Realizar accin\" key={i} onClick={() => actionConv(actionResponse)} className={`option-item ${optionItem.postbackText}`}>\r\n                                                            <div>{optionItem.postbackText}</div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    {\r\n                                                        optionItem.imagen && <div className=\"right-item\"><Image className=\"item-image\" src={optionItem.imagen} alt={optionItem.title} /></div>\r\n                                                    }\r\n                                                </div>\r\n                                            );\r\n                                        })\r\n                                    } </div>\r\n                                );\r\n                            })\r\n                        } </div>\r\n                    </div>\r\n                </AccordionDetails>\r\n            </Accordion>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        const { options, title, subtitle, className, sendResponse, type, items, image, startConversation } = this.props;\r\n        let rendeReply = false;\r\n\r\n        let idConversation = getFromSession('idConversartion');\r\n        let tipoMensajeBienvenida = getFromSession('tipoMensajeBienvenida');\r\n\r\n        let actionConv = false\r\n\r\n        if (idConversation) {\r\n            actionConv = sendResponse\r\n        } else if (!idConversation && tipoMensajeBienvenida === 'quick_reply') {\r\n            actionConv = startConversation\r\n        }\r\n\r\n\r\n\r\n        if (type === 'quick_reply') {\r\n            rendeReply = this.renderSimpleReply(options, title, subtitle, className, actionConv,);\r\n        } else if (type === 'list') {\r\n            rendeReply = this.renderListReply(items, title, subtitle, className, actionConv, image,);\r\n        }\r\n\r\n        return (\r\n            rendeReply\r\n\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {};\r\n};\r\n\r\nconst mapDispachToProps = dispatch => {\r\n    return {\r\n        sendResponse: (value) => dispatch({ type: SEND_RESPONSE, value }),\r\n        startConversation: (value) => dispatch({ type: START_CONVERSATION, value })\r\n    };\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispachToProps\r\n)(ReplyComponent);\r\n","\r\nimport 'primereact/resources/themes/saga-blue/theme.css';\r\nimport 'primereact/resources/primereact.css';\r\nimport 'primeicons/primeicons.css';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport { Carousel } from 'primereact/carousel';\r\nimport { Button } from 'primereact/button';\r\nimport { SEND_RESPONSE } from './constants';\r\n\r\nclass CarouselCircular extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            products: [],\r\n            title: \"\"\r\n        };\r\n\r\n        this.responsiveOptions = [\r\n            {\r\n                breakpoint: '1024px',\r\n                numVisible: 2,\r\n                numScroll: 2\r\n            },\r\n            {\r\n                breakpoint: '800px',\r\n                numVisible: 1,\r\n                numScroll: 1\r\n            },\r\n            {\r\n                breakpoint: '480px',\r\n                numVisible: 1,\r\n                numScroll: 1\r\n            }\r\n\r\n        ];\r\n\r\n        this.productTemplate = this.productTemplate.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({ products: this.props.options, title: this.props.title })\r\n    }\r\n\r\n    productTemplate(product) {\r\n        const { sendResponse } = this.props;\r\n        const actionResponse = {\r\n            newMessage: '',\r\n            conversationData: {\r\n                agente: {\r\n                    nombres: 'Chatbot'\r\n                }\r\n            },\r\n            carousel: true\r\n        }\r\n        actionResponse.newMessage = product.value;\r\n        return (\r\n            <div className=\"product-item\">\r\n                <div className=\"product-item-content\">\r\n                    <div className=\"p-mb-3\">\r\n                        <img alt=\"Imagen ilustrativa del carrusel\" title=\"Imagen ilustrativa del carrusel\" src={`${product.image}`} onError={(e) => e.target.src = 'https://www.primefaces.org/wp-content/uploads/2020/05/placeholder.png'}  className=\"product-image\" />\r\n                    </div>\r\n                    <div>\r\n                        {/* <h4 className=\"p-mb-1\">{product.label}</h4> */}\r\n                        {/* <h6 className=\"p-mt-0 p-mb-3\">${product.price}</h6>\r\n                        <span className={`product-badge status-${product.inventoryStatus.toLowerCase()}`}>{product.inventoryStatus}</span> */}\r\n                        <div className=\"car-buttons p-mt-5\">\r\n                            <Button aria-label=\"Realizar accin\" title=\"Realizar accin\" className=\"p-button p-button-rounded p-mr-2\" onClick={() => sendResponse(actionResponse)}>{product.label}</Button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"carousel-demo\">\r\n                <div className=\"card\">\r\n                    <Carousel value={this.state.products}\r\n                        numVisible={2}\r\n                        numScroll={1}\r\n                        responsiveOptions={this.responsiveOptions}\r\n                        className=\"custom-carousel\" circular\r\n                        autoplayInterval={10000}\r\n                        itemTemplate={this.productTemplate}\r\n                        header={<h5>{this.state.title}</h5>}\r\n                        showNavigators={true}\r\n                        prevIcon=\"pi pi-chevron-left\"   //  flecha izquierda\r\n                        nextIcon=\"pi pi-chevron-right\"  //  flecha derecha\r\n                    />\r\n                </div>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\nconst mapStateToProps = state => {\r\n    return {};\r\n};\r\n\r\nconst mapDispachToProps = dispatch => {\r\n    return {\r\n        sendResponse: (value) => dispatch({ type: SEND_RESPONSE, value })\r\n    };\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispachToProps\r\n)(CarouselCircular);\r\n\r\n\r\n","import { getFromSession } from \"./session\";\r\nimport { firebaseDatabase } from \"./firebase\";\r\n\r\n\r\nexport function* consultarEmpresa(company){\r\n    try {\r\n        //console.log('company', company)\r\n    let resp = false;\r\n    yield firebaseDatabase.collection('company').where('cuenta','==', company).get().then( docs=> {\r\n        docs.forEach(doc=>{\r\n            resp = doc;\r\n        });\r\n    });\r\n    return resp\r\n} catch (error) {\r\n    console.log('company.consultarEmpresa', error)\r\n    throw error;        \r\n}\r\n\r\n}\r\n\r\n","import {\r\n    SEND_RESPONSE,\r\n    START_CONVERSATION_SUCCESS,\r\n    LISTENER_RESPONSE,\r\n    LISTENER_RESPONSE_SUCCESS,\r\n    LISTENER_RESPONSE_ERROR,\r\n    FORM_ENCUESTA,\r\n    FORM_ENCUESTA_SUCCESS,\r\n    FORM_ENCUESTA_ERROR,\r\n    START_WIDGET, START_WIDGET_ERROR, START_WIDGET_SUCCES, PLAY_SOUND, ENCUESTA_CONF, ENCUESTA_CONF_SUCCESS, \r\n    SHOW_WIDGET,\r\n    SHOW_WIDGET_SUCCESS,\r\n    CHANGE_FLAG_WIDGET,\r\n    HANDLER_FILE_MESSAGE_SUCCESS,\r\n    PLAY_SOUND_OFF,\r\n    SENDING_MSG_DF,\r\n    INICIAR_CHAT_ABIERTO,\r\n    CAMBIAR_ESTADO_CHAT_ABIERTO,\r\n    TYPE_WRITER_WIDGET_WEB_SUCCESS\r\n} from './constants'\r\n\r\nexport function updateAttributes(payload) {\r\n    return {\r\n        type: SEND_RESPONSE,\r\n        payload\r\n    };\r\n}\r\n\r\nexport function startConversationSuccess(payload) {\r\n    return {\r\n        type: START_CONVERSATION_SUCCESS,\r\n        payload\r\n    };\r\n}\r\n\r\nexport function typeWriterSuccess(payload) {\r\n    return {\r\n        type: TYPE_WRITER_WIDGET_WEB_SUCCESS,\r\n        payload\r\n    };\r\n}\r\n\r\nexport function listenerConversation(payload) {\r\n    return {\r\n        type: LISTENER_RESPONSE,\r\n        payload\r\n    };\r\n}\r\n\r\n\r\n\r\n\r\nexport function listenerConversationSuccess(payload) {\r\n    return {\r\n        type: LISTENER_RESPONSE_SUCCESS,\r\n        payload\r\n    };\r\n}\r\n\r\nexport function listenerConversationError(payload) {\r\n    return {\r\n        type: LISTENER_RESPONSE_ERROR,\r\n        payload\r\n    };\r\n}\r\n\r\nexport function enviarEncuesta(payload) {\r\n    return {\r\n        type: FORM_ENCUESTA,\r\n        payload\r\n    }\r\n}\r\n export function enviarEncuestaSuccess(payload) {\r\n    return {\r\n        type: FORM_ENCUESTA_SUCCESS,\r\n        payload\r\n    }\r\n} \r\n export function enviarEncuestaError(payload) {\r\n    return {\r\n        type: FORM_ENCUESTA_ERROR,\r\n        payload\r\n    }\r\n} \r\n\r\n\r\nexport function startWidget(payload) {\r\n    return {\r\n        type: START_WIDGET,\r\n        payload\r\n    }\r\n} \r\n\r\nexport function startWidgetError(payload) {\r\n    return {\r\n        type: START_WIDGET_ERROR,\r\n        payload\r\n    }\r\n} \r\n\r\nexport function startWidgetSucces(payload) {\r\n    return {\r\n        type: START_WIDGET_SUCCES,\r\n        payload\r\n    }\r\n} \r\n\r\nexport function playSound(payload) {\r\n    return {\r\n        type: PLAY_SOUND,\r\n        payload\r\n    }\r\n} \r\n\r\n\r\nexport function obtenerInfoConfEncuesta(payload){\r\n    return{\r\n        type:ENCUESTA_CONF,\r\n        payload\r\n    }\r\n}\r\n\r\nexport function obtenerInfoConfEncuestaSuccess(payload){\r\n    return{\r\n        type:ENCUESTA_CONF_SUCCESS,\r\n        payload\r\n    }\r\n}\r\n\r\nexport function mostrarWidget(payload){\r\n    return{\r\n        type: SHOW_WIDGET,\r\n        payload\r\n    }\r\n}\r\n\r\n\r\nexport function changeFlagShowWidget(payload){\r\n    return{\r\n        type:CHANGE_FLAG_WIDGET,\r\n        payload\r\n    }\r\n}\r\n\r\nexport function sendResponseAction(payload){\r\n    return{\r\n        type: SEND_RESPONSE,\r\n        payload\r\n    }\r\n}\r\n\r\nexport function handleFileMessageSuccess(payload){\r\n    return{\r\n        type: HANDLER_FILE_MESSAGE_SUCCESS,\r\n        payload\r\n    }\r\n}\r\n\r\nexport function sendingMessageDialogFlow(payload){\r\n    return{\r\n        type: SENDING_MSG_DF,\r\n        payload\r\n    }\r\n}\r\n\r\nexport function iniciarChatAbierto(payload){\r\n    return{\r\n        type:INICIAR_CHAT_ABIERTO,\r\n        payload\r\n    }\r\n}\r\n\r\nexport function cambiarEstadoChatAbierto(payload){\r\n    return{\r\n        type:CAMBIAR_ESTADO_CHAT_ABIERTO,\r\n        payload\r\n    }\r\n\r\n}\r\n","import { firebaseDatabase } from \"./firebase\";\r\n\r\nexport function* fijarDatosEncuesta(companyId, idConv, estado, bodyEncuesta) {\r\n    try {\r\n        console.log(\"bodyEncuesta***\", bodyEncuesta);\r\n        firebaseDatabase.collection('company').doc(companyId).collection('conversations').doc(idConv).update({\r\n            estado: estado,\r\n            encuesta: bodyEncuesta,\r\n        });\r\n        /* firebaseDatabase.collection(`company/${companyId}/conversations`).doc(idConv) */\r\n\r\n\r\n    } catch (error) {\r\n        console.error('controller.conversation.fijarDatosEncuesta', error);\r\n        throw error\r\n    }\r\n\r\n}\r\n\r\nexport function* actualizarConnectedUser(companyId,idConv) {\r\n    let idDocAgente;\r\n    try {\r\n        firebaseDatabase.collection('company').doc(companyId).collection('conversations').doc(idConv).get()\r\n        .then(conv=>{\r\n             idDocAgente = conv.data().agente && conv.data().agente.idDoc ? conv.data().agente.idDoc:false;\r\n             if(idDocAgente){\r\n             firebaseDatabase.collection('company').doc(companyId).collection('connectedUsers').doc(idDocAgente).update({\r\n                 last_survey: new Date()\r\n             })\r\n            }\r\n        })\r\n\r\n    } catch (error) {\r\n        console.error('controller.conversation.actualizarConnectedUser', error);\r\n        throw error\r\n    }\r\n}\r\n\r\n/* export function* fijarFechaUltimaEncuesta(idDoc){\r\n\r\n\r\n\r\n\r\n} */","import { getFromSession } from \"./session\";\r\nimport { firebaseDatabase } from \"./firebase\";\r\n\r\n\r\nexport function* consultaProperty(company, prop) {\r\n\t/* console.log('entro a consultarProperty******'); */\r\n\ttry {\r\n\t\tlet resp = false;\r\n\t\tif (company) { //Se consulta por company\r\n\t\t\tyield firebaseDatabase.collection(`company/${company}/configuration`).doc(prop).get().then(\r\n\t\t\t\t(snapshot) => {\r\n\t\t\t\t\tif (snapshot.exists) {\r\n\t\t\t\t\t\tresp = snapshot.data().value;\r\n\t\t\t\t\t};\r\n\t\t\t\t});\r\n\t\t} else {//Se consulta configuracion general\r\n\t\t\tyield firebaseDatabase.collection(`configuration`).doc(prop).get().then(\r\n\t\t\t\t(snapshot) => {\r\n\t\t\t\t\tif (snapshot.exists) {\r\n\t\t\t\t\t\tresp = snapshot.data().value;\r\n\t\t\t\t\t};\r\n\t\t\t\t});\r\n\t\t}\r\n\t\t/* console.log('final de eso', resp); */\r\n\t\treturn resp;\r\n\t} catch (err) {\r\n\t\tconsole.error('configuration.consultarProperty :' + err);\r\n\t\tthrow err;\r\n\t}\r\n}\r\n\r\nexport function* consultaPropertyAll(company, prop) {\r\n\t//PARA CONSULTAR TODOS LOS VALORES EN EL DOCUMENTO NO SOLAMENTE EL VALUE\r\n\ttry {\r\n\t\tlet resp = false;\r\n\r\n\t\tyield firebaseDatabase.collection(`company/${company}/configuration`).doc(prop).get().then(\r\n\t\t\t(snapshot) => {\r\n\t\t\t\tif (snapshot.exists) {\r\n\t\t\t\t\tresp = snapshot.data();\r\n\t\t\t\t};\r\n\t\t\t});\r\n\r\n\t\treturn resp;\r\n\t} catch (err) {\r\n\t\tconsole.error('configuration.consultarProperty :' + err);\r\n\t\tthrow err;\r\n\t}\r\n}\r\n\r\n\r\nexport function* validarHorarioHabil(company) {\r\n\r\n\tvar config = yield consultaProperty(company, 'HORARIO_HABIL');\r\n\tvar fechaActual = new Date();\r\n\tvar weekday = new Array(7);\r\n\tweekday[0] = \"DOMINGO\";\r\n\tweekday[1] = \"LUNES\";\r\n\tweekday[2] = \"MARTES\";\r\n\tweekday[3] = \"MIERCOLES\";\r\n\tweekday[4] = \"JUEVES\";\r\n\tweekday[5] = \"VIERNES\";\r\n\tweekday[6] = \"SABADO\";\r\n\tvar day = weekday[fechaActual.getDay()];\r\n\r\n\tvar fec = fechaActual.getFullYear() + \"-\" + (fechaActual.getMonth() + 1) + \"-\" + fechaActual.getDate()\r\n\t//1. verificar fecha exacta:\r\n\tif (config[fec]) {\r\n\t\treturn { valido: yield checkTime(config[fec]), textoHorario: stringifyHorarioHabil(config) };\r\n\t} else if (config[day]) {\r\n\t\treturn { valido: yield checkTime(config[day]), textoHorario: stringifyHorarioHabil(config) };\r\n\t} else {\r\n\t\t//miro si es dia de semana o fin de semana:\r\n\t\tif (fechaActual.getDay() === 0 || fechaActual.getDay() === 6) { //0 domingo, 6 sabado\r\n\t\t\treturn { valido: yield checkTime(config[\"WEEKEND_HOURS\"]), textoHorario: stringifyHorarioHabil(config) };\r\n\t\t} else {\r\n\t\t\treturn { valido: yield checkTime(config[\"REG_HOURS\"]), textoHorario: stringifyHorarioHabil(config) };\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/**\r\n*Funcion que valida si la hora actual que se tiene, esta dentro de un rango recibido.\r\n* el rango se recibe como un json: {ini:\"hh:mm\", fin:\"hh:mm\"}\r\n*/\r\nfunction* checkTime(rango) {\r\n\tvar fechaActual = new Date();\r\n\tvar hora = fechaActual.getHours();\r\n\tvar min = fechaActual.getMinutes();\r\n\tvar ini = rango.ini.split(\":\");\r\n\tvar a = parseInt(ini[0]);\r\n\tvar b = parseInt(ini[1]);\r\n\tvar fin = rango.fin.split(\":\");\r\n\tvar c = parseInt(fin[0]);\r\n\tvar d = parseInt(fin[1]);\r\n\r\n\tif (a > c || ((a == c) && (b > d))) {\r\n\t\t// not a valid input\r\n\t\treturn false;\r\n\t} else {\r\n\t\tif (hora > a && hora < c) {\r\n\t\t\treturn true;\r\n\t\t} else if (hora == a && min >= b) {\r\n\t\t\treturn true;\r\n\t\t} else if (hora == c && min <= d) {\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction stringifyHorarioHabil(config) {\r\n\ttry {\r\n\t\t//console.log('config HORARIO HABIL', config);\r\n\t\tlet resp = `Por favor tener presente que el horario de atencin de nuestros asesores es \r\n\t\t\t\tde lunes a viernes de ${config[\"REG_HOURS\"].ini} a ${config[\"REG_HOURS\"].fin}`;\r\n\t\tif (config[\"WEEKEND_HOURS\"].ini != \"00:00\" && config[\"WEEKEND_HOURS\"].fin != \"00:00\"\r\n\t\t\t&& !config[\"DOMINGO\"] && !config[\"SABADO\"]) {\r\n\t\t\tresp += ` y sabados, domingos y festivos de\r\n\t\t\t\t${config[\"WEEKEND_HOURS\"].ini} a ${config[\"WEEKEND_HOURS\"].fin}`;\r\n\t\t} else if (config[\"WEEKEND_HOURS\"].ini != \"00:00\" && config[\"WEEKEND_HOURS\"].fin != \"00:00\" &&\r\n\t\t\tconfig[\"DOMINGO\"] && config[\"DOMINGO\"].ini == \"00:00\") {\r\n\t\t\tresp += `, sbados de\r\n\t\t\t\t${config[\"WEEKEND_HOURS\"].ini} a ${config[\"WEEKEND_HOURS\"].fin}, domingos y festivos\r\n\t\t\t\tno se presta el servicio.`\r\n\t\t}\r\n\r\n\t\treturn resp;\r\n\t} catch (error) {\r\n\t\tconsole.error('configuration.stringifyHorarioHabil', error);\r\n\t\tthrow error;\r\n\t}\r\n\r\n}\r\n\r\nexport function* dialogflowAccount(company) {\r\n\tvar resp = false;\r\n\tvar prop = 'DIALOGFLOW_ACCOUNT';\r\n\tresp = yield consultaProperty(company, prop);\r\n\treturn JSON.parse(resp);\r\n}\r\n\r\nexport function* dialogflowProjectId(company) {\r\n\tvar resp = false;\r\n\tvar prop = 'DIALOGFLOW_PROJECT';\r\n\tresp = yield consultaProperty(company, prop);\r\n\tif (!resp) resp = 'chat-asesores-3';\r\n\treturn resp;\r\n}\r\n","import { call } from \"redux-saga/effects\";\r\n\r\nexport function* mensajeDialogflow(companyId, idConv, msge, param_Hijo) {\r\n  try {\r\n    let clienteBody = {\r\n      param_Hijo,\r\n      idCompany: companyId,\r\n      idConv: idConv,\r\n      msge: msge\r\n    };\r\n    const urlConv = process.env.REACT_APP_URL_DIALOGFLOW;\r\n    //const urlConv = \"https://1d623240ab5c.ngrok-free.app/chat-asesores-prueba/us-central1/dialogFlowExterno\";\r\n    const response = yield call(fetch, urlConv, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\",\r\n        \"Access-Control-Allow-Methods\": \"GET, POST, PUT, DELETE, OPTIONS\",\r\n        'Access-Control-Allow-Credentials': 'true',\r\n        \"Access-Control-Request-Headers\": \"access-control-allow-credentials,access-control-allow-headers,access-control-allow-methods,access-control-allow-origin,auth,authorization,cache-control,content-type,mode\",\r\n        'accept': \"application/json, text/plain, */*\",\r\n        'Content-Type': 'application/json',\r\n        'Cache-Control': 'no-cache',\r\n        'cache-control': 'no-cache',\r\n      },\r\n      body: JSON.stringify(clienteBody)\r\n    });\r\n\r\n    // if (response.status >= 200 && response.status < 300) {\r\n    //   const successResponse = yield call([response, response.json]);\r\n    //   console.log('successResponse', successResponse);\r\n    //   return successResponse;\r\n    // } else {\r\n    //   const errorResponse = yield call([response, response.json]);\r\n    //   console.error('errorResponse', errorResponse);\r\n    // }\r\n\r\n\r\n\r\n  } catch (err) {\r\n    console.error('DialogFlow.mensajeDialogflow:', err);\r\n    throw err\r\n  }\r\n}\r\n\r\n\r\n","import { takeLatest, put, call, take, takeEvery, select } from \"redux-saga/effects\";\r\nimport { addResponseMessage, addUserMessage, renderCustomComponent, dropMessages, addLinkSnippet } from 'react-chat-widget';\r\nimport Lightbox from \"react-awesome-lightbox\";\r\nimport CustomVideoPlayer from './videoplayer';\r\nimport ReplyComponent from './reply';\r\nimport CarouselCircular from './carousel';\r\nimport AudioPlayer from 'react-h5-audio-player';\r\nimport { Image } from 'react-bootstrap';\r\n\r\nimport { isMobile, isDesktop, isOpera, isChrome, isFirefox, isEdge, isTablet } from 'react-device-detect';\r\nimport {\r\n  SEND_RESPONSE,\r\n  LISTENER_RESPONSE,\r\n  TEXT_RESPONSE,\r\n  START_CONVERSATION,\r\n  FORM_ENCUESTA, START_WIDGET, ENCUESTA_CONF, HANDLER_FILE_MESSAGE,\r\n  CONSULTA_TYPE_WRITER_WEB\r\n\r\n} from './constants';\r\n\r\nimport { firebaseDatabase, firebaseField, firebaseStorage, firebaseAuthentication } from \"../../controller/firebase\";\r\nimport { getFromSession, removeItems, saveInSession, storeInSession } from \"../../controller/session\";\r\nimport { eventChannel } from \"redux-saga\";\r\nimport { consultarEmpresa } from \"../../controller/company\"\r\n\r\nimport {\r\n\r\n  listenerConversationSuccess,\r\n  listenerConversationError,\r\n  listenerConversation,\r\n  startConversationSuccess,\r\n  enviarEncuestaError,\r\n  enviarEncuestaSuccess,\r\n  startWidgetSucces, startWidgetError, playSound, obtenerInfoConfEncuestaSuccess, handleFileMessageSuccess, sendingMessageDialogFlow,\r\n  typeWriterSuccess\r\n\r\n} from \"./actions\";\r\n\r\nimport { fijarDatosEncuesta, actualizarConnectedUser } from \"../../controller/conversation\"\r\nimport { consultaProperty, consultaPropertyAll, validarHorarioHabil } from \"../../controller/configuration\";\r\nimport { mensajeDialogflow } from \"../../controller/dialogflow\";\r\nimport { RichText } from \"./components\";\r\nimport { getTypeWriterWeb } from \"./selectors\";\r\n\r\nfunction* sendResponse(action) {\r\n\r\n  const companyId = getFromSession('company_id');\r\n  const { idConversartion } = getFromSession('idConversartion');\r\n  const clienteData = getFromSession('clienteData');\r\n  const typeWriterWeb = yield select(getTypeWriterWeb);\r\n\r\n\r\n  const { value: { client, reply, fileMessage, conversationData: conv, newMessage: value } } = action;\r\n\r\n\r\n  const valueString = value.toString();\r\n\r\n  if (reply) {\r\n\r\n    yield addUserMessage(valueString);\r\n  }\r\n\r\n  let msge = {\r\n    fecha: new Date(),\r\n    from: {\r\n      tipo: \"cliente\",\r\n      cliente: clienteData ? clienteData : {\r\n        nombre: \"cliente prueba\",\r\n        mail: \"mail prueba\"\r\n      }\r\n    },\r\n    mensaje: {\r\n      text: fileMessage ? false : valueString,\r\n      type: fileMessage ? fileMessage.type : 'text',\r\n      caption: fileMessage ? fileMessage.caption : '',\r\n      title: fileMessage ? fileMessage.title : '',\r\n      filename: fileMessage ? fileMessage.filename : '',\r\n      url: fileMessage ? fileMessage.url : '',\r\n    },\r\n\r\n  };\r\n  firebaseDatabase.collection('company').doc(companyId).collection('conversations').doc(idConversartion).collection('mensajes').add(msge);\r\n\r\n  let upd = {\r\n    last_message: new Date()\r\n  }\r\n  upd['search'] = firebaseField.arrayUnion(valueString.trim());\r\n\r\n  firebaseDatabase.collection('company').doc(companyId).collection('conversations').doc(idConversartion).update(\r\n    upd\r\n  );\r\n\r\n  /**\r\n   * Modificacion para incluir comunicacion con chatbot de dialogflow:\r\n   * 1. se valida si se tiene habilitado Chatbot con propiedad \"bot_enabled\" de configuracion, y elnombre del agente es \"Chatbot\"\r\n   * 2. se hace la consulta a dialogFlow\r\n   * 3. se agrega la respuesta a la conversacion\r\n  */\r\n\r\n  //nuevos cambios, se agrega un cambio que dice la posicion donde se halla el chatbot en una pagina\r\n  const multiplesHijos = yield consultaProperty(companyId, 'MULTIPLES_HIJOS');\r\n  let param_Hijo = false;\r\n  if (multiplesHijos) {\r\n    param_Hijo = \"hijo1\";\r\n  }\r\n\r\n\r\n  const botEnabled = yield consultaProperty(companyId, 'BOT_ENABLED');\r\n  if (botEnabled && conv.agente?.nombres === 'Chatbot') {\r\n    yield put(sendingMessageDialogFlow(action));\r\n    yield mensajeDialogflow(companyId, idConversartion, msge.mensaje, param_Hijo);\r\n  }\r\n\r\n\r\n  if (client) {\r\n    console.log('addCustomMessage.SAGA.SENDRESPONSE');\r\n    yield addCustomMessage(fileMessage, typeWriterWeb, null, client);\r\n  }\r\n\r\n  yield put(handleFileMessageSuccess(action));\r\n}\r\n\r\nfunction parseMarkdown(markdownText) {\r\n  const htmlText = markdownText\r\n    .replace(/^### (.*$)/gim, '<h3>$1</h3>')\r\n    .replace(/^## (.*$)/gim, '<h2>$1</h2>')\r\n    .replace(/^# (.*$)/gim, '<h1>$1</h1>')\r\n    .replace(/^\\> (.*$)/gim, '<blockquote>$1</blockquote>')\r\n    .replace(/\\*\\*(.*)\\*\\*/gim, '<b>$1</b>')\r\n    .replace(/\\*(.*)\\*/gim, '<i>$1</i>')\r\n    .replace(/!\\[(.*?)\\]\\((.*?)\\)/gim, \"<img alt='$1' src='$2' />\")\r\n    .replace(/\\[(.*?)\\]\\((.*?)\\)/gim, \"<a href='$2'>$1</a>\")\r\n    .replace(/\\n$/gim, '<br />')\r\n\r\n  return htmlText.trim()\r\n}\r\n\r\nfunction* consultaTypeWriter(action) {\r\n  try {\r\n    console.log(action)\r\n    const consultaWriter = getFromSession('consultaWriter');\r\n\r\n    if (consultaWriter && consultaWriter.eject) {\r\n      yield put(typeWriterSuccess(consultaWriter.value));\r\n    }\r\n    // const companyId = getFromSession('company_id');\r\n    // const typeWriterWeb = yield consultaProperty(companyId, 'TYPE_WRITER_WIDGET_WEB');\r\n    // console.log(typeWriterWeb)\r\n\r\n  } catch (error) {\r\n    console.error(error)\r\n  }\r\n}\r\n\r\nfunction* listenerResponse(idConv) {\r\n\r\n  console.log(\"listenerResponse\")\r\n  const { idConversartion } = getFromSession('idConversartion');\r\n  const companyId = getFromSession('company_id');\r\n  const clientFormEnabled = getFromSession('clientFormEnabled');\r\n  const reference = firebaseDatabase.collection('company').doc(companyId).collection('conversations').doc(idConversartion).collection('mensajes').orderBy('fecha', 'asc');\r\n  const channel = eventChannel(emit => reference.onSnapshot(emit));\r\n  const typeWriterWeb = yield select(getTypeWriterWeb);\r\n  let auxWriter = typeWriterWeb;\r\n\r\n  const consultaWriter = getFromSession('consultaWriter');\r\n  // console.log(typeWriterWeb, idConversartion, consultaWriter)\r\n  if (consultaWriter && consultaWriter.eject && !consultaWriter.firstMessage) {\r\n    auxWriter = false;\r\n  }\r\n  try {\r\n    let inited = false;\r\n\r\n    while (true) {\r\n\r\n      let lastElement = false;\r\n      const realData = yield take(channel);\r\n      let nuevoMsge = false;\r\n\r\n      if (!inited) {\r\n        //la primera vez se carga todo:\r\n        realData.docs.forEach(doc => {\r\n          lastElement = doc.data();\r\n          if (lastElement.from.tipo === 'agente') {\r\n\r\n            nuevoMsge = true;\r\n            addCustomMessage(lastElement.mensaje, auxWriter, nuevoMsge);\r\n          } else {\r\n            if (idConv.value || clientFormEnabled) {\r\n              addCustomMessage(lastElement.mensaje, auxWriter, true, true);\r\n            }\r\n\r\n          }\r\n\r\n        });\r\n      } else {\r\n        nuevoMsge = false;\r\n        realData.docChanges().forEach(change => {\r\n          lastElement = change.doc.data();\r\n\r\n          if (lastElement.from.tipo === 'agente') {\r\n            nuevoMsge = true;\r\n\r\n            addCustomMessage(lastElement.mensaje, typeWriterWeb, nuevoMsge);\r\n          }\r\n        });\r\n      }\r\n      if (nuevoMsge) {\r\n        //console.log('nuevo Msge if', nuevoMsge)\r\n        yield put(playSound({ play: true }));\r\n      }\r\n      inited = true;\r\n      realData.docChanges().forEach(change => {\r\n        lastElement = change.doc.data();\r\n      });\r\n      //lastElement ya tiene el ultimo mensaje del agente\r\n    }\r\n  }\r\n  catch (e) {\r\n    console.error(e);\r\n  }\r\n}\r\n\r\nfunction addCustomMessage(mensaje, typeWriterWeb, nuevoMsge, client) {\r\n\r\n  if (mensaje.type === 'text' && !client) {\r\n\r\n    renderCustomComponent(\r\n      RichText,\r\n      {\r\n        className: 'rcw-message-text ',\r\n        text: mensaje.text,\r\n        from: \"AI\",\r\n        typeWriterWeb,\r\n        nuevoMsge: nuevoMsge,\r\n      },\r\n\r\n      !client\r\n    );\r\n  } else if (mensaje.type === 'text' && client) {\r\n\r\n    addUserMessage(mensaje.text);\r\n  }\r\n  else if (mensaje.type === 'image' || mensaje.type === 'sticker') {\r\n    if (client) {\r\n      renderCustomComponent(\r\n        Image,\r\n        {\r\n          className: `image-mesage ${client ? 'rcw-client client-message' : ''}`,\r\n          src: mensaje.url,\r\n          alt: mensaje.caption,\r\n          title: mensaje.caption\r\n        },\r\n        !client\r\n      );\r\n    } else {\r\n      renderCustomComponent(\r\n        Lightbox,\r\n        {\r\n          className: `image-mesage ${client ? 'rcw-client client-message' : ''}`,\r\n          image: mensaje.url,\r\n          alt: mensaje.caption,\r\n          doubleClickZoom: 4\r\n        },\r\n        !client\r\n      );\r\n    }\r\n  } else if (mensaje.type === 'video') {\r\n    renderCustomComponent(\r\n      CustomVideoPlayer,\r\n      {\r\n        className: `video-mesage ${client ? 'rcw-client client-message' : ''}`,\r\n        video: mensaje.url,\r\n        title: mensaje.caption\r\n      },\r\n      !client\r\n    );\r\n  } else if (mensaje.type === 'audio') {\r\n    renderCustomComponent(\r\n      AudioPlayer,\r\n      {\r\n        className: `audio-mesage ${client ? 'rcw-client client-message' : ''}`,\r\n        src: mensaje.url,\r\n        autoPlay: false,\r\n      },\r\n      !client\r\n    );\r\n  } else if (mensaje.type === 'quick_reply') {\r\n    renderCustomComponent(\r\n      ReplyComponent,\r\n      {\r\n        className: `quick-message ${client ? 'rcw-client client-message' : ''}`,\r\n        options: mensaje.options,\r\n        title: mensaje.title,\r\n        subtitle: mensaje.subtitle,\r\n        type: mensaje.type\r\n      },\r\n      !client\r\n    );\r\n  } else if (mensaje.type === 'list') {\r\n    renderCustomComponent(\r\n      ReplyComponent,\r\n      {\r\n        className: `list-message ${client ? 'rcw-client client-message' : ''}`,\r\n        options: mensaje.options,\r\n        title: mensaje.title,\r\n        subtitle: mensaje.body,\r\n        type: mensaje.type,\r\n        items: mensaje.items,\r\n        image: mensaje.url\r\n      },\r\n      !client\r\n    );\r\n  } else if (mensaje.type === 'carousel') {\r\n    renderCustomComponent(\r\n      CarouselCircular,\r\n      {\r\n        className: `list-message ${client ? 'rcw-client client-message' : ''}`,\r\n        options: mensaje.options,\r\n        title: mensaje.title,\r\n        subtitle: mensaje.body,\r\n        type: mensaje.type,\r\n        items: mensaje.items,\r\n        image: mensaje.url\r\n      },\r\n      !client\r\n    );\r\n  } else if (mensaje.type === 'location') {\r\n    renderCustomComponent(\r\n      'a',\r\n      {\r\n        className: `link-message rcw-message-text`,\r\n        title: mensaje.name,\r\n        href: 'https://maps.google.com/maps/search/' + mensaje.name + '/@' + mensaje.latitude + ',' + mensaje.longitude + ',17z?hl=es',\r\n        target: '_blank',\r\n        children: mensaje.name\r\n      },\r\n      !client\r\n    );\r\n  } else {\r\n    if (client) {\r\n      renderCustomComponent(\r\n        'a',\r\n        {\r\n          className: `link-message rcw-client client-message`,\r\n          title: mensaje.filename,\r\n          href: mensaje.url,\r\n          target: '_blank',\r\n          children: mensaje.filename\r\n        },\r\n        false\r\n      );\r\n    } else {\r\n      addLinkSnippet({\r\n        className: `link-mesage`,\r\n        title: mensaje.filename,\r\n        link: mensaje.url,\r\n        target: '_blank'\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\n\r\nfunction* listenerConversationInfo() {\r\n\r\n  let { idConversartion } = getFromSession('idConversartion');\r\n  const companyId = getFromSession('company_id');\r\n\r\n  const referenceConv = firebaseDatabase.collection('company').doc(companyId).collection('conversations').doc(idConversartion);\r\n\r\n  const channelConv = eventChannel(emit => referenceConv.onSnapshot(emit));\r\n\r\n  let conversation = false;\r\n\r\n  try {\r\n    while (true) {\r\n\r\n      const realData = yield take(channelConv);\r\n      conversation = realData.data();\r\n\r\n      if (idConversartion) {\r\n        yield put(listenerConversationSuccess(conversation));\r\n\r\n      }\r\n    }\r\n  } catch (err) {\r\n    console.error('saga.listenerConversationInfo:' + err);\r\n    put(listenerConversationError(err));\r\n    return;\r\n  }\r\n\r\n}\r\n\r\nfunction* obtenerInfoConfEncuesta(action) {\r\n  try {\r\n\r\n    const companyId = getFromSession('company_id');\r\n    let preguntasEncuesta = yield consultaProperty(companyId, 'ENCUESTA');\r\n\r\n    yield put(obtenerInfoConfEncuestaSuccess(preguntasEncuesta));\r\n  } catch (error) {\r\n    console.error('saga.obtenerInfoConfEncuesta', error);\r\n    throw error\r\n  }\r\n}\r\n\r\n\r\n\r\nfunction* enviarEncuesta(action) {\r\n  try {\r\n    const { idConversartion } = getFromSession('idConversartion');\r\n    const companyId = getFromSession('company_id');\r\n    //console.log('action.value', action.value);\r\n    let datosEncuesta = action.value ? action.value : false;\r\n    let estado = 11;\r\n    const limpiarChat = yield consultaProperty(companyId, \"LIMPIAR_MENSAJES_CLIENTEWEB\")\r\n\r\n    if (datosEncuesta) {\r\n      yield fijarDatosEncuesta(companyId, idConversartion, estado, datosEncuesta);\r\n\r\n      yield actualizarConnectedUser(companyId, idConversartion);\r\n    }\r\n\r\n\r\n    if (limpiarChat) {\r\n      dropMessages();\r\n    }\r\n    removeItems('clienteData');\r\n    removeItems('idConversartion');\r\n\r\n    yield put(enviarEncuestaSuccess({ idConv: false, esperandoNuevaConv: true, convData: false, flag: true }))\r\n\r\n  } catch (err) {\r\n    console.error('saga.enviarEncuesta', err);\r\n    put(enviarEncuestaError(err));\r\n    return;\r\n  }\r\n}\r\n\r\n\r\nfunction* textResponse() {\r\n  const conversationData = { nombre: \"asdf\", mail: \"asdf\", motivo: \"asdf\" }\r\n}\r\n\r\nfunction* startConversation(payload) {\r\n\r\n  console.log(\"start conev\")\r\n  let clienteData = { ...payload.value };\r\n  const companyId = getFromSession('company_id');\r\n  let isEnabledCaptchaValidation = yield consultaProperty(companyId, 'CAPTCHA_ENABLED');\r\n  let isEnabledClientForm = yield consultaProperty(companyId, 'CLIENT_FORM_ENABLED');\r\n\r\n  let textButtonReply = false\r\n  if (clienteData.newMessage) {\r\n    //se valida si la conversacion empieza por quick replies\r\n    yield addUserMessage(clienteData.newMessage);\r\n    textButtonReply = clienteData.newMessage\r\n  }\r\n\r\n\r\n  addResponseMessage(\"Iniciando conversacin...\");\r\n\r\n\r\n  let clienteBody;\r\n  let tipoDispositivo = isMobile ? 'Mobile' : isDesktop ? 'Desktop' : isTablet ? 'Tablet' : 'No reconocido';\r\n  let navegador = isChrome ? 'Chrome' : isEdge ? 'Edge' : isFirefox ? 'Firefox' : isOpera ? 'Opera' : 'Sin identificar';\r\n\r\n  //nuevos cambios, se agrega un cambio que dice la posicion de\r\n  //TODO: Consultar properti HIJos\r\n  const multiplesHijos = yield consultaProperty(companyId, 'MULTIPLES_HIJOS');\r\n  let param_Hijo = false;\r\n  if (multiplesHijos) {\r\n    param_Hijo = \"hijo1\"//getFromSession('param_Hijo');\r\n  }\r\n  let sitio = window.location.href;\r\n  let valorCaptcha;\r\n\r\n  if (isEnabledCaptchaValidation) {\r\n    valorCaptcha = payload.value.captcha ? payload.value.captcha : \"No validado\"\r\n  } else {\r\n    valorCaptcha = \"No aplica\"\r\n  }\r\n\r\n\r\n  if (Object.keys(clienteData).indexOf('nombre') !== -1) {\r\n    clienteBody = {\r\n      param_Hijo,\r\n      company: companyId,\r\n      nombre: clienteData.nombre,\r\n      mail: clienteData.mail,\r\n      motivo: clienteData.subject,\r\n      device: 'dispositivo: ' + tipoDispositivo + ', navegador: ' + navegador,\r\n      sitio: sitio\r\n    }\r\n  } else {\r\n    let motivo = textButtonReply ? textButtonReply : payload.value.subject ? payload.value.subject : payload.value\r\n    clienteBody = {\r\n      param_Hijo,\r\n      company: companyId,\r\n      nombre: 'anonimo',\r\n      mail: 'anonimo@anonimo.com',\r\n      motivo: motivo,\r\n      device: 'dispositivo: ' + tipoDispositivo + ', navegador: ' + navegador,\r\n      captchaValidado: valorCaptcha,\r\n      sitio: sitio\r\n    }\r\n\r\n    clienteData = {\r\n      nombre: 'anonimo',\r\n      mail: 'anonimo@anonimo.com',\r\n      subject: motivo,\r\n    }\r\n  }\r\n  console.log(clienteBody, \"==========\")\r\n  let idConversartion = false;\r\n  //const urlConv = \"https://6cce6307f1e7.ngrok-free.app/chat-asesores-prueba/us-central1/nuevaConversacionWeb\"\r\n  const urlConv = process.env.REACT_APP_NEW_CONVERSATION_ENDPOINT;\r\n  const response = yield call(fetch, urlConv, {\r\n    method: 'POST',\r\n    headers: {\r\n      \"Access-Control-Allow-Origin\": \"*\",\r\n      \"Access-Control-Allow-Methods\": \"GET, POST, PUT, DELETE, OPTIONS\",\r\n      'Access-Control-Allow-Credentials': 'true',\r\n      \"Access-Control-Request-Headers\": \"access-control-allow-credentials,access-control-allow-headers,access-control-allow-methods,access-control-allow-origin,auth,authorization,cache-control,content-type,mode\",\r\n      'accept': \"application/json, text/plain, */*\",\r\n      'Content-Type': 'application/json',\r\n      'Cache-Control': 'no-cache',\r\n      'cache-control': 'no-cache',\r\n    },\r\n    body: JSON.stringify(clienteBody)\r\n  });\r\n\r\n  if (response.status >= 200 && response.status < 300) {\r\n    const successResponse = yield call([response, response.json]);\r\n    idConversartion = successResponse.conv;\r\n  } else {\r\n    const errorResponse = yield call([response, response.json]);\r\n    console.error('errorResponse', errorResponse);\r\n  }\r\n\r\n  if (idConversartion) {\r\n    storeInSession('idConversartion', JSON.stringify({ idConversartion }));\r\n    storeInSession('clienteData', JSON.stringify(clienteData));\r\n\r\n    try {\r\n      yield put(listenerConversation());\r\n      yield put(startConversationSuccess({ conversationId: idConversartion }));\r\n\r\n      //cuando se envia la primer respuesta ya se sabe que paso el cargue de mensajes\r\n      const consultaWriter = getFromSession('consultaWriter');\r\n\r\n      if (consultaWriter && consultaWriter.eject && consultaWriter.firstMessage) {\r\n        storeInSession('consultaWriter', JSON.stringify({ eject: consultaWriter.eject, value: consultaWriter.value, firstMessage: false }))\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n}\r\n\r\n/**FUNCION PARA INICIAR EL WIDGET:\r\n * debe recibir el id de la empresa y obtener el logo, nombre del cliente, horario\r\n */\r\nfunction* startWidget(payload) {\r\n  try {\r\n    console.log(\"start widget\",payload.value.company)\r\n    //recibe la instancia Hijo si la hay, y a que correspondencia se encuentra\r\n    let param_Hijo = false;\r\n    if (payload.value?.hijo)\r\n      param_Hijo = payload.value.hijo;\r\n    let company_id = payload.value.company;\r\n    let company = yield consultarEmpresa(company_id);\r\n    let horario = yield validarHorarioHabil(company.id);\r\n    let botEnabled = yield consultaProperty(company.id, 'BOT_ENABLED');\r\n\r\n    //Si tiene activo el typeWriter\r\n    const typeWriter = yield consultaProperty(company.id, 'TYPE_WRITER_WIDGET_WEB');\r\n\r\n    const auxConsultaWriter = getFromSession('consultaWriter');\r\n\r\n    if (auxConsultaWriter && auxConsultaWriter.eject) {\r\n      storeInSession('consultaWriter', JSON.stringify({ eject: true, value: typeWriter, firstMessage: auxConsultaWriter.firstMessage }))\r\n    } else {\r\n      storeInSession('consultaWriter', JSON.stringify({ eject: true, value: typeWriter, firstMessage: true }))\r\n    }\r\n    yield put(typeWriterSuccess(typeWriter));\r\n\r\n\r\n    //Si el bot esta habilitado, el horario siempre sera valido:\r\n    if (botEnabled) {\r\n      horario.valido = true;\r\n    }\r\n    let formularioInicial = false;\r\n\r\n    storeInSession('company_id', JSON.stringify(company.id));\r\n    storeInSession('param_Hijo', JSON.stringify(param_Hijo));\r\n\r\n    let isEnabledClientForm = yield consultaProperty(company.id, 'CLIENT_FORM_ENABLED');\r\n    let isEnabledCaptchaValidation = yield consultaProperty(company.id, 'CAPTCHA_ENABLED');\r\n    let chatOpened = yield consultaProperty(company.id, \"INICIAR_CHAT_ABIERTO\")\r\n\r\n    storeInSession('clientFormEnabled', JSON.stringify(isEnabledClientForm));\r\n\r\n    if (isEnabledClientForm) {\r\n      //Si el formulario inicial esta habilitado entonces se consulta la propiedad donde estan \r\n      //los campos del formulario\r\n      formularioInicial = yield consultaProperty(company.id, 'CLIENT_FORM');\r\n    } else {\r\n      //si no esta el formulario inicial habilitado entonces se muestra un mensaje de bienvenida\r\n      let propiedadesMensajeBienvenida = yield consultaPropertyAll(company.id, 'MENSAJE_BIENVENIDA_CLIENTE_WEB');\r\n      let mensajeBienvenida = propiedadesMensajeBienvenida.value;\r\n      let tipoMensajeBienvenida = propiedadesMensajeBienvenida.tipo;\r\n\r\n      storeInSession('tipoMensajeBienvenida', JSON.stringify(tipoMensajeBienvenida));\r\n      if (mensajeBienvenida) {\r\n        if (tipoMensajeBienvenida === 'texto') {\r\n          //se aade un texto plano \r\n          addResponseMessage(mensajeBienvenida);\r\n        } else if (tipoMensajeBienvenida === 'quick_reply') {\r\n          //se aaden quick replies, es una lista porque primero es un mensaje plano y \r\n          //luego un mensaje con los quick replies\r\n          mensajeBienvenida.forEach(texto => {\r\n            let mensaje = JSON.parse(texto);\r\n            // console.log(\"JSON PARSE\", mensaje);\r\n            addCustomMessage(mensaje, typeWriter)\r\n          });\r\n        }\r\n      }\r\n\r\n    }\r\n    let encuestaConf = yield consultaProperty(company.id, 'ENCUESTA');\r\n    yield put(startWidgetSucces({\r\n      company: company.data(), horario, company_id: company.id,\r\n      formularioInicial, encuestaConf, isEnabledClientForm, botEnabled, isEnabledCaptchaValidation,\r\n      chatOpened\r\n    }));\r\n  } catch (error) {\r\n    console.error('saga.cliente.startWidget', error)\r\n    startWidgetError({ error })\r\n\r\n  }\r\n}\r\n\r\n\r\n\r\nfunction* handlerFileMessage(action) {\r\n\r\n  const company = getFromSession('company_id');\r\n  const { idConversartion } = getFromSession('idConversartion');\r\n  const today = new Date();\r\n  const timestampDate = today.getTime();\r\n\r\n  let archivos = action.value\r\n  let isVoiceRecord = action.value.isVoiceRecord ? true : false;\r\n  addResponseMessage(\"Adjuntando archivo...\");\r\n\r\n  //console.log('AUDIO DATA', isVoiceRecord, archivos);\r\n  let convData = false;\r\n  yield firebaseDatabase.collection('company').doc(company).collection('conversations').doc(idConversartion).get().then(d => {\r\n    convData = d.data();\r\n  })\r\n\r\n\r\n  let fileParameters = false;\r\n  yield firebaseAuthentication.signInAnonymously();\r\n  fileParameters = yield armarJSONparametros(company, idConversartion, archivos, timestampDate);\r\n\r\n\r\n  const actionResponse = {\r\n    value: {\r\n      newMessage: fileParameters[0].url,\r\n      conversationData: {\r\n        agente: {\r\n          nombres: convData.agente.nombres\r\n        }\r\n      },\r\n      client: true,\r\n      fileMessage: {\r\n        caption: fileParameters[0].nombre,\r\n        title: fileParameters[0].nombre,\r\n        filename: fileParameters[0].nombre,\r\n        url: fileParameters[0].url,\r\n        type: fileParameters[0].tipo\r\n      }\r\n    }\r\n  }\r\n\r\n  yield sendResponse(actionResponse);\r\n  yield put(playSound({ play: true }));\r\n}\r\n\r\nasync function armarJSONparametros(company, idConversation, archivos, timestampDate) {\r\n  //Creamos una funcin asincrona cuyas tareas asincronas las vamos a sincronizar\r\n  //debugger;\r\n\r\n  let parametros = [];\r\n  for (const archivo of archivos) {\r\n\r\n    let nombreArchivo = !archivo.name ? `${timestampDate}_${\"voiceRecording.wav\"}` : archivo.name\r\n    let ref = `${company}/conversations/${idConversation}/${nombreArchivo}`;\r\n    const storageRef = firebaseStorage.ref(ref);\r\n    let typeArchivo = archivo.blob ? archivo.blob.type : archivo.type\r\n    let tipo = typeArchivo.split([\"/\"])[0];\r\n    let diccionarioTiposArchivo = {\r\n      \"application\": \"file\",\r\n      \"image\": \"image\",\r\n      \"audio\": \"audio\",\r\n      \"video\": \"video\",\r\n    }\r\n    let tipoArchivo = diccionarioTiposArchivo[tipo];\r\n    tipoArchivo = !tipoArchivo ? \"file\" : tipoArchivo;\r\n\r\n    let archivo_ = archivo.blob ? archivo.blob : archivo\r\n\r\n    //console.log('ARCvhivvovo', archivo_);\r\n\r\n    //primera tarea asincrona, usamos await para esperar a que se resuelva la promesa\r\n    const task = await storageRef.put(archivo_).then(async result => {\r\n      //segunta tarea asincrona, usamos el async luego el await para esperar a que esta promesa se resuelva\r\n      parametros.push({\r\n        idConversation: idConversation,\r\n        tipo: tipoArchivo,\r\n        nombre: nombreArchivo,\r\n        url: await storageRef.getDownloadURL()\r\n      })\r\n    });\r\n  }\r\n  return parametros;\r\n}\r\n\r\nexport function* watchUsers() {\r\n  yield takeLatest(SEND_RESPONSE, sendResponse);\r\n  yield takeEvery(LISTENER_RESPONSE, listenerResponse);\r\n  yield takeLatest(LISTENER_RESPONSE, listenerConversationInfo);\r\n  yield takeLatest(TEXT_RESPONSE, textResponse);\r\n  yield takeLatest(START_CONVERSATION, startConversation);\r\n  yield takeLatest(FORM_ENCUESTA, enviarEncuesta);\r\n  yield takeLatest(START_WIDGET, startWidget);\r\n  yield takeLatest(ENCUESTA_CONF, obtenerInfoConfEncuesta);\r\n  yield takeLatest(HANDLER_FILE_MESSAGE, handlerFileMessage);\r\n  yield takeLatest(CONSULTA_TYPE_WRITER_WEB, consultaTypeWriter)\r\n}\r\n","import React, { Component } from 'react';\r\nimport Container from 'react-bootstrap/Container'\r\n\r\nimport \"./style.css\";\r\nimport ComponentAuth from './component';\r\n\r\nimport reducer from \"./reducer\";\r\nimport { createStore, applyMiddleware, combineReducers } from \"redux\";\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport createSagaMiddleware from \"redux-saga\";\r\nimport { watchUsers } from \"./saga\";\r\nimport { Provider } from 'react-redux';\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport { AuthProvider } from '../../components/authprovider/auth';\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\nconst rootReducer = combineReducers({\r\n    localReducer: reducer,\r\n    form: formReducer,\r\n});\r\n\r\nconst store = createStore(rootReducer, composeWithDevTools(applyMiddleware(sagaMiddleware)));\r\nsagaMiddleware.run(watchUsers);\r\n\r\nexport default class AuthPage extends Component {\r\n    render() {\r\n        const { containerData } = this.props;\r\n        return (\r\n            <AuthProvider>\r\n                <Provider store={store}>\r\n                    <Container className={`main-wrapper auth chatbot-avanti-${containerData.company}`} >\r\n                        <ComponentAuth containerData={containerData} />\r\n                    </Container>\r\n                </Provider>\r\n            </AuthProvider>\r\n        );\r\n    }\r\n}\r\n","import HomePage from './pages/home';\r\nimport AuthPage from './pages/authentication';\r\n\r\nimport { \r\n    faHome, \r\n    faUsers,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nexport const GET_USERS_API = 'users/';\r\nexport const GET_USER_API = 'users/2';\r\nexport const PATH_API = 'https://reqres.in/api/';\r\nexport const COLLECTION_USER_NAME = 'users'; \r\nexport const paths = [\r\n    { path: '/home', component: HomePage },\r\n    { path: '/', component: AuthPage },\r\n];\r\n\r\nexport const menuItems = [ \r\n    {\r\n        path: '/home',\r\n        name: 'Home',\r\n        css: faHome,\r\n        key: 1,\r\n        label: 'Home'\r\n    },\r\n    {\r\n        path: '/auth',\r\n        name: 'User',\r\n        css: faUsers,\r\n        key: 2,\r\n        label: 'Usuarios',\r\n    }\r\n]\r\n\r\nexport const main = AuthPage;","import { \r\n    faHome, \r\n    faUsers, \r\n    faFileAlt, \r\n    faAngleDoubleRight, \r\n    faUserCircle, \r\n    faSignOutAlt,\r\n    faBookReader,\r\n    faBookDead,\r\n    faBookMedical,\r\n    faBookmark,\r\n    faAddressBook\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nexport const ITEM_TITLE = [\r\n    {\r\n        position: 'right',\r\n        path: '/',\r\n        name: 'Asimov',\r\n        css: faAngleDoubleRight,\r\n        key: 4,\r\n        label: 'Asimov',\r\n        className:'logo',\r\n        active: false,\r\n    }\r\n]\r\n\r\nexport const getItemLogout = (logoutAction) => [\r\n    {\r\n        position: 'left',\r\n        path: '/',\r\n        name: 'Exit',\r\n        css: faSignOutAlt,\r\n        key: 5,\r\n        label: 'Exit',\r\n        className:'logout',\r\n        active: false,\r\n        onItemClick: logoutAction,\r\n    }\r\n]\r\n\r\nexport const getUserItem = (name, picture) => {\r\n    const ITEM_PROFILE = [\r\n        {\r\n            \r\n            position: 'left',\r\n            path: '/profile',\r\n            name: name,\r\n            css: faUserCircle,\r\n            key: 6,\r\n            label: name,\r\n            className:'',\r\n            active: false,\r\n            picture: picture\r\n        }\r\n    ]\r\n\r\n    return ITEM_PROFILE;\r\n}","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport Image from 'react-bootstrap/Image';\r\nimport './sidebar.css';\r\nimport Nav from 'react-bootstrap/Nav';\r\n\r\nexport default class NavItem extends Component {\r\n\r\n  handleClick = (path) => {\r\n      const { onItemClick } = this.props;\r\n      if (onItemClick) {\r\n        return onItemClick(path);\r\n      }\r\n\r\n      return false;\r\n  }\r\n\r\n  render() {\r\n    const { items } = this.props;\r\n      return (\r\n        items && items.map((item, i) => {\r\n            const whiteClass = `styled-nav-item ${ item.className ? item.className : '' } ${ item.active ? 'active' : ''}`;\r\n            const dropdown = item.dropdown;\r\n            return true && (<Nav.Item as=\"li\" key={item.key} className={whiteClass}>\r\n            { \r\n              item.onItemClick ? \r\n              <Nav.Link href=\"#\" className='sidebar-nav-link action' onClick={this.onLogout}>\r\n                {\r\n                  !item.position || item.position === 'left' ? \r\n                    <FontAwesomeIcon className='nav-icon' icon={item.css} />  \r\n                  :\r\n                  ''\r\n                }\r\n                <span className='link-text'>{item.label}</span>\r\n                {\r\n                  item.position === 'right' ? \r\n                    <FontAwesomeIcon className='nav-icon' icon={item.css} />  \r\n                  :\r\n                  ''\r\n                }\r\n              </Nav.Link>\r\n              :\r\n              <Link to={item.path} className='sidebar-nav-link '>\r\n                {\r\n                  !item.position || item.position === 'left' ?\r\n                  item.picture ? <Image className='nav-image' src={item.picture} roundedCircle  /> :  \r\n                  <FontAwesomeIcon className='nav-icon' icon={item.css} /> :\r\n                  ''\r\n                }\r\n                <span className='link-text'>{item.label}</span>\r\n                {\r\n                  item.position && item.position === 'right' ? \r\n                  item.picture ? <Image className='nav-image' src={item.picture} roundedCircle  /> : \r\n                  <FontAwesomeIcon className='nav-icon' icon={item.css} /> :\r\n                  ''\r\n                }\r\n              </Link>\r\n            } \r\n            { dropdown ? \r\n              <div className=\"submenu\">\r\n                <Nav.Item as=\"ul\">\r\n                  <NavItem items={ dropdown } /> \r\n                </Nav.Item>\r\n              </div>: ''}\r\n          </Nav.Item>)\r\n        })\r\n      );\r\n\r\n    return false;\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { ITEMS, ITEM_TITLE, getItemLogout, getUserItem } from './constants';\r\n\r\nimport './sidebar.css';\r\nimport NavItem from './navitem';\r\nimport Nav from 'react-bootstrap/Nav';\r\n\r\nimport { logout } from '../../controller/session';\r\n\r\nexport default class SideNav extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        const {items, onLogout} = this.props;\r\n\r\n        this.state = {\r\n            activePath: '/',\r\n            items: items,\r\n            onLogout: onLogout\r\n        }\r\n    }\r\n\r\n    onItemClick = (path) => {\r\n        this.setState({ activePath: path });\r\n    }\r\n\r\n    onLogoutClick = () => {\r\n        logout();\r\n        this.setState({ activePath: '/' });\r\n    }\r\n\r\n    render() {\r\n        const { items, onLogout } = this.state;\r\n\r\n        return (\r\n            <div className='side-nav-wrapper'>\r\n            <Nav className=\"side-nav-nar\" activeKey=\"1\" onSelect={this.onItemClick} as=\"ul\">\r\n                <NavItem\r\n                    items={ITEM_TITLE}\r\n                />\r\n                <NavItem\r\n                    items={items}\r\n                    onItemClick={() => this.onItemClick}\r\n                />\r\n                <NavItem\r\n                    items={getItemLogout()}\r\n                    onItemClick={() => this.onLogoutClick()}\r\n                />\r\n            </Nav>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport \"./navbar.css\";\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport SideBar from \"../sidebar/sidebar\";\r\nimport AuthPage from \"../../pages/authentication\";\r\n\r\nclass CustomNavBar extends Component {\r\n  render() {\r\n    const { items, menuItems, main, nomatch, containerData } = this.props;\r\n//console.log('container data en navbar.js', containerData)\r\n    return (\r\n      <React.Fragment>\r\n        <AuthPage containerData={ containerData }/>\r\n        {/*<Router>\r\n            <Switch>\r\n              <Route exact path=\"/\" >\r\n                <AuthPage containerData={ containerData }/>\r\n              </Route>\r\n              <Route exact path=\"/index.html\" >\r\n                <AuthPage containerData={ containerData }/>\r\n              </Route>\r\n              {\r\n                items.map((item,i) => {\r\n                  return <Route key={i} path={item.path} component={item.component} />\r\n                })\r\n              }\r\n              <Route component={nomatch} />\r\n            </Switch>\r\n            </Router>*/}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CustomNavBar;","import React, { Component } from 'react';\r\nimport SideNav from './sidenav';\r\nimport './sidebar.css';\r\n\r\nexport default class SideBar extends Component {\r\n  render() {\r\n    const {items, onLogout} = this.props;\r\n\r\n    return (\r\n      <SideNav items = {items} onLogout = {onLogout}></SideNav>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './static/css/index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { paths, main, menuItems } from './Constants';\r\nimport CustomNavBar from './components/navbar/navbar';\r\n\r\n\r\nconst domElement = document.getElementById('chatbot-avanti');\r\nconsole.log('domElement', domElement);\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n      <CustomNavBar items={paths} main={main} menuItems={menuItems} containerData={domElement.dataset} />\r\n  </React.StrictMode>,\r\n  document.getElementById('chatbot-avanti')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}